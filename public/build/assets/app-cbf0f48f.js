function Hr(r,i){return function(){return r.apply(i,arguments)}}const{toString:vs}=Object.prototype,{getPrototypeOf:Kn}=Object,nn=(r=>i=>{const s=vs.call(i);return r[s]||(r[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Oe=r=>(r=r.toLowerCase(),i=>nn(i)===r),rn=r=>i=>typeof i===r,{isArray:it}=Array,Ct=rn("undefined");function ms(r){return r!==null&&!Ct(r)&&r.constructor!==null&&!Ct(r.constructor)&&ye(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Br=Oe("ArrayBuffer");function ys(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&Br(r.buffer),i}const gs=rn("string"),ye=rn("function"),qr=rn("number"),on=r=>r!==null&&typeof r=="object",_s=r=>r===!0||r===!1,Jt=r=>{if(nn(r)!=="object")return!1;const i=Kn(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},bs=Oe("Date"),ws=Oe("File"),Ss=Oe("Blob"),Ts=Oe("FileList"),Es=r=>on(r)&&ye(r.pipe),ks=r=>{let i;return r&&(typeof FormData=="function"&&r instanceof FormData||ye(r.append)&&((i=nn(r))==="formdata"||i==="object"&&ye(r.toString)&&r.toString()==="[object FormData]"))},Cs=Oe("URLSearchParams"),As=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function At(r,i,{allOwnKeys:s=!1}={}){if(r===null||typeof r>"u")return;let a,u;if(typeof r!="object"&&(r=[r]),it(r))for(a=0,u=r.length;a<u;a++)i.call(null,r[a],a,r);else{const h=s?Object.getOwnPropertyNames(r):Object.keys(r),f=h.length;let v;for(a=0;a<f;a++)v=h[a],i.call(null,r[v],v,r)}}function zr(r,i){i=i.toLowerCase();const s=Object.keys(r);let a=s.length,u;for(;a-- >0;)if(u=s[a],i===u.toLowerCase())return u;return null}const Wr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$r=r=>!Ct(r)&&r!==Wr;function Un(){const{caseless:r}=$r(this)&&this||{},i={},s=(a,u)=>{const h=r&&zr(i,u)||u;Jt(i[h])&&Jt(a)?i[h]=Un(i[h],a):Jt(a)?i[h]=Un({},a):it(a)?i[h]=a.slice():i[h]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&At(arguments[a],s);return i}const Os=(r,i,s,{allOwnKeys:a}={})=>(At(i,(u,h)=>{s&&ye(u)?r[h]=Hr(u,s):r[h]=u},{allOwnKeys:a}),r),Rs=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Ps=(r,i,s,a)=>{r.prototype=Object.create(i.prototype,a),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),s&&Object.assign(r.prototype,s)},xs=(r,i,s,a)=>{let u,h,f;const v={};if(i=i||{},r==null)return i;do{for(u=Object.getOwnPropertyNames(r),h=u.length;h-- >0;)f=u[h],(!a||a(f,r,i))&&!v[f]&&(i[f]=r[f],v[f]=!0);r=s!==!1&&Kn(r)}while(r&&(!s||s(r,i))&&r!==Object.prototype);return i},Ls=(r,i,s)=>{r=String(r),(s===void 0||s>r.length)&&(s=r.length),s-=i.length;const a=r.indexOf(i,s);return a!==-1&&a===s},Ns=r=>{if(!r)return null;if(it(r))return r;let i=r.length;if(!qr(i))return null;const s=new Array(i);for(;i-- >0;)s[i]=r[i];return s},Is=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&Kn(Uint8Array)),Ds=(r,i)=>{const a=(r&&r[Symbol.iterator]).call(r);let u;for(;(u=a.next())&&!u.done;){const h=u.value;i.call(r,h[0],h[1])}},Ms=(r,i)=>{let s;const a=[];for(;(s=r.exec(i))!==null;)a.push(s);return a},js=Oe("HTMLFormElement"),Us=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,u){return a.toUpperCase()+u}),wr=(({hasOwnProperty:r})=>(i,s)=>r.call(i,s))(Object.prototype),Fs=Oe("RegExp"),Gr=(r,i)=>{const s=Object.getOwnPropertyDescriptors(r),a={};At(s,(u,h)=>{let f;(f=i(u,h,r))!==!1&&(a[h]=f||u)}),Object.defineProperties(r,a)},Hs=r=>{Gr(r,(i,s)=>{if(ye(r)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=r[s];if(ye(a)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Bs=(r,i)=>{const s={},a=u=>{u.forEach(h=>{s[h]=!0})};return it(r)?a(r):a(String(r).split(i)),s},qs=()=>{},zs=(r,i)=>(r=+r,Number.isFinite(r)?r:i),On="abcdefghijklmnopqrstuvwxyz",Sr="0123456789",Xr={DIGIT:Sr,ALPHA:On,ALPHA_DIGIT:On+On.toUpperCase()+Sr},Ws=(r=16,i=Xr.ALPHA_DIGIT)=>{let s="";const{length:a}=i;for(;r--;)s+=i[Math.random()*a|0];return s};function $s(r){return!!(r&&ye(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Gs=r=>{const i=new Array(10),s=(a,u)=>{if(on(a)){if(i.indexOf(a)>=0)return;if(!("toJSON"in a)){i[u]=a;const h=it(a)?[]:{};return At(a,(f,v)=>{const _=s(f,u+1);!Ct(_)&&(h[v]=_)}),i[u]=void 0,h}}return a};return s(r,0)},Xs=Oe("AsyncFunction"),Js=r=>r&&(on(r)||ye(r))&&ye(r.then)&&ye(r.catch),m={isArray:it,isArrayBuffer:Br,isBuffer:ms,isFormData:ks,isArrayBufferView:ys,isString:gs,isNumber:qr,isBoolean:_s,isObject:on,isPlainObject:Jt,isUndefined:Ct,isDate:bs,isFile:ws,isBlob:Ss,isRegExp:Fs,isFunction:ye,isStream:Es,isURLSearchParams:Cs,isTypedArray:Is,isFileList:Ts,forEach:At,merge:Un,extend:Os,trim:As,stripBOM:Rs,inherits:Ps,toFlatObject:xs,kindOf:nn,kindOfTest:Oe,endsWith:Ls,toArray:Ns,forEachEntry:Ds,matchAll:Ms,isHTMLForm:js,hasOwnProperty:wr,hasOwnProp:wr,reduceDescriptors:Gr,freezeMethods:Hs,toObjectSet:Bs,toCamelCase:Us,noop:qs,toFiniteNumber:zs,findKey:zr,global:Wr,isContextDefined:$r,ALPHABET:Xr,generateString:Ws,isSpecCompliantForm:$s,toJSONObject:Gs,isAsyncFn:Xs,isThenable:Js};function U(r,i,s,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),s&&(this.config=s),a&&(this.request=a),u&&(this.response=u)}m.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Jr=U.prototype,Vr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Vr[r]={value:r}});Object.defineProperties(U,Vr);Object.defineProperty(Jr,"isAxiosError",{value:!0});U.from=(r,i,s,a,u,h)=>{const f=Object.create(Jr);return m.toFlatObject(r,f,function(_){return _!==Error.prototype},v=>v!=="isAxiosError"),U.call(f,r.message,i,s,a,u),f.cause=r,f.name=r.name,h&&Object.assign(f,h),f};const Vs=null;function Fn(r){return m.isPlainObject(r)||m.isArray(r)}function Kr(r){return m.endsWith(r,"[]")?r.slice(0,-2):r}function Tr(r,i,s){return r?r.concat(i).map(function(u,h){return u=Kr(u),!s&&h?"["+u+"]":u}).join(s?".":""):i}function Ks(r){return m.isArray(r)&&!r.some(Fn)}const Ys=m.toFlatObject(m,{},null,function(i){return/^is[A-Z]/.test(i)});function sn(r,i,s){if(!m.isObject(r))throw new TypeError("target must be an object");i=i||new FormData,s=m.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!m.isUndefined(g[b])});const a=s.metaTokens,u=s.visitor||E,h=s.dots,f=s.indexes,_=(s.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(i);if(!m.isFunction(u))throw new TypeError("visitor must be a function");function O(k){if(k===null)return"";if(m.isDate(k))return k.toISOString();if(!_&&m.isBlob(k))throw new U("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(k)||m.isTypedArray(k)?_&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function E(k,b,g){let S=k;if(k&&!g&&typeof k=="object"){if(m.endsWith(b,"{}"))b=a?b:b.slice(0,-2),k=JSON.stringify(k);else if(m.isArray(k)&&Ks(k)||(m.isFileList(k)||m.endsWith(b,"[]"))&&(S=m.toArray(k)))return b=Kr(b),S.forEach(function(M,F){!(m.isUndefined(M)||M===null)&&i.append(f===!0?Tr([b],F,h):f===null?b:b+"[]",O(M))}),!1}return Fn(k)?!0:(i.append(Tr(g,b,h),O(k)),!1)}const y=[],R=Object.assign(Ys,{defaultVisitor:E,convertValue:O,isVisitable:Fn});function P(k,b){if(!m.isUndefined(k)){if(y.indexOf(k)!==-1)throw Error("Circular reference detected in "+b.join("."));y.push(k),m.forEach(k,function(S,x){(!(m.isUndefined(S)||S===null)&&u.call(i,S,m.isString(x)?x.trim():x,b,R))===!0&&P(S,b?b.concat(x):[x])}),y.pop()}}if(!m.isObject(r))throw new TypeError("data must be an object");return P(r),i}function Er(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(a){return i[a]})}function Yn(r,i){this._pairs=[],r&&sn(r,this,i)}const Yr=Yn.prototype;Yr.append=function(i,s){this._pairs.push([i,s])};Yr.toString=function(i){const s=i?function(a){return i.call(this,a,Er)}:Er;return this._pairs.map(function(u){return s(u[0])+"="+s(u[1])},"").join("&")};function Qs(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qr(r,i,s){if(!i)return r;const a=s&&s.encode||Qs,u=s&&s.serialize;let h;if(u?h=u(i,s):h=m.isURLSearchParams(i)?i.toString():new Yn(i,s).toString(a),h){const f=r.indexOf("#");f!==-1&&(r=r.slice(0,f)),r+=(r.indexOf("?")===-1?"?":"&")+h}return r}class Zs{constructor(){this.handlers=[]}use(i,s,a){return this.handlers.push({fulfilled:i,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){m.forEach(this.handlers,function(a){a!==null&&i(a)})}}const kr=Zs,Zr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ea=typeof URLSearchParams<"u"?URLSearchParams:Yn,ta=typeof FormData<"u"?FormData:null,na=typeof Blob<"u"?Blob:null,ra={isBrowser:!0,classes:{URLSearchParams:ea,FormData:ta,Blob:na},protocols:["http","https","file","blob","url","data"]},ei=typeof window<"u"&&typeof document<"u",ia=(r=>ei&&["ReactNative","NativeScript","NS"].indexOf(r)<0)(typeof navigator<"u"&&navigator.product),oa=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),sa=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ei,hasStandardBrowserEnv:ia,hasStandardBrowserWebWorkerEnv:oa},Symbol.toStringTag,{value:"Module"})),Ae={...sa,...ra};function aa(r,i){return sn(r,new Ae.classes.URLSearchParams,Object.assign({visitor:function(s,a,u,h){return Ae.isNode&&m.isBuffer(s)?(this.append(a,s.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},i))}function ca(r){return m.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function ua(r){const i={},s=Object.keys(r);let a;const u=s.length;let h;for(a=0;a<u;a++)h=s[a],i[h]=r[h];return i}function ti(r){function i(s,a,u,h){let f=s[h++];if(f==="__proto__")return!0;const v=Number.isFinite(+f),_=h>=s.length;return f=!f&&m.isArray(u)?u.length:f,_?(m.hasOwnProp(u,f)?u[f]=[u[f],a]:u[f]=a,!v):((!u[f]||!m.isObject(u[f]))&&(u[f]=[]),i(s,a,u[f],h)&&m.isArray(u[f])&&(u[f]=ua(u[f])),!v)}if(m.isFormData(r)&&m.isFunction(r.entries)){const s={};return m.forEachEntry(r,(a,u)=>{i(ca(a),u,s,0)}),s}return null}function la(r,i,s){if(m.isString(r))try{return(i||JSON.parse)(r),m.trim(r)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(r)}const Qn={transitional:Zr,adapter:["xhr","http"],transformRequest:[function(i,s){const a=s.getContentType()||"",u=a.indexOf("application/json")>-1,h=m.isObject(i);if(h&&m.isHTMLForm(i)&&(i=new FormData(i)),m.isFormData(i))return u?JSON.stringify(ti(i)):i;if(m.isArrayBuffer(i)||m.isBuffer(i)||m.isStream(i)||m.isFile(i)||m.isBlob(i))return i;if(m.isArrayBufferView(i))return i.buffer;if(m.isURLSearchParams(i))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let v;if(h){if(a.indexOf("application/x-www-form-urlencoded")>-1)return aa(i,this.formSerializer).toString();if((v=m.isFileList(i))||a.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return sn(v?{"files[]":i}:i,_&&new _,this.formSerializer)}}return h||u?(s.setContentType("application/json",!1),la(i)):i}],transformResponse:[function(i){const s=this.transitional||Qn.transitional,a=s&&s.forcedJSONParsing,u=this.responseType==="json";if(i&&m.isString(i)&&(a&&!this.responseType||u)){const f=!(s&&s.silentJSONParsing)&&u;try{return JSON.parse(i)}catch(v){if(f)throw v.name==="SyntaxError"?U.from(v,U.ERR_BAD_RESPONSE,this,null,this.response):v}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ae.classes.FormData,Blob:Ae.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};m.forEach(["delete","get","head","post","put","patch"],r=>{Qn.headers[r]={}});const Zn=Qn,ha=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fa=r=>{const i={};let s,a,u;return r&&r.split(`
`).forEach(function(f){u=f.indexOf(":"),s=f.substring(0,u).trim().toLowerCase(),a=f.substring(u+1).trim(),!(!s||i[s]&&ha[s])&&(s==="set-cookie"?i[s]?i[s].push(a):i[s]=[a]:i[s]=i[s]?i[s]+", "+a:a)}),i},Cr=Symbol("internals");function Et(r){return r&&String(r).trim().toLowerCase()}function Vt(r){return r===!1||r==null?r:m.isArray(r)?r.map(Vt):String(r)}function pa(r){const i=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(r);)i[a[1]]=a[2];return i}const da=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Rn(r,i,s,a,u){if(m.isFunction(a))return a.call(this,i,s);if(u&&(i=s),!!m.isString(i)){if(m.isString(a))return i.indexOf(a)!==-1;if(m.isRegExp(a))return a.test(i)}}function va(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,s,a)=>s.toUpperCase()+a)}function ma(r,i){const s=m.toCamelCase(" "+i);["get","set","has"].forEach(a=>{Object.defineProperty(r,a+s,{value:function(u,h,f){return this[a].call(this,i,u,h,f)},configurable:!0})})}class an{constructor(i){i&&this.set(i)}set(i,s,a){const u=this;function h(v,_,O){const E=Et(_);if(!E)throw new Error("header name must be a non-empty string");const y=m.findKey(u,E);(!y||u[y]===void 0||O===!0||O===void 0&&u[y]!==!1)&&(u[y||_]=Vt(v))}const f=(v,_)=>m.forEach(v,(O,E)=>h(O,E,_));return m.isPlainObject(i)||i instanceof this.constructor?f(i,s):m.isString(i)&&(i=i.trim())&&!da(i)?f(fa(i),s):i!=null&&h(s,i,a),this}get(i,s){if(i=Et(i),i){const a=m.findKey(this,i);if(a){const u=this[a];if(!s)return u;if(s===!0)return pa(u);if(m.isFunction(s))return s.call(this,u,a);if(m.isRegExp(s))return s.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,s){if(i=Et(i),i){const a=m.findKey(this,i);return!!(a&&this[a]!==void 0&&(!s||Rn(this,this[a],a,s)))}return!1}delete(i,s){const a=this;let u=!1;function h(f){if(f=Et(f),f){const v=m.findKey(a,f);v&&(!s||Rn(a,a[v],v,s))&&(delete a[v],u=!0)}}return m.isArray(i)?i.forEach(h):h(i),u}clear(i){const s=Object.keys(this);let a=s.length,u=!1;for(;a--;){const h=s[a];(!i||Rn(this,this[h],h,i,!0))&&(delete this[h],u=!0)}return u}normalize(i){const s=this,a={};return m.forEach(this,(u,h)=>{const f=m.findKey(a,h);if(f){s[f]=Vt(u),delete s[h];return}const v=i?va(h):String(h).trim();v!==h&&delete s[h],s[v]=Vt(u),a[v]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const s=Object.create(null);return m.forEach(this,(a,u)=>{a!=null&&a!==!1&&(s[u]=i&&m.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,s])=>i+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...s){const a=new this(i);return s.forEach(u=>a.set(u)),a}static accessor(i){const a=(this[Cr]=this[Cr]={accessors:{}}).accessors,u=this.prototype;function h(f){const v=Et(f);a[v]||(ma(u,f),a[v]=!0)}return m.isArray(i)?i.forEach(h):h(i),this}}an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);m.reduceDescriptors(an.prototype,({value:r},i)=>{let s=i[0].toUpperCase()+i.slice(1);return{get:()=>r,set(a){this[s]=a}}});m.freezeMethods(an);const Ne=an;function Pn(r,i){const s=this||Zn,a=i||s,u=Ne.from(a.headers);let h=a.data;return m.forEach(r,function(v){h=v.call(s,h,u.normalize(),i?i.status:void 0)}),u.normalize(),h}function ni(r){return!!(r&&r.__CANCEL__)}function Ot(r,i,s){U.call(this,r??"canceled",U.ERR_CANCELED,i,s),this.name="CanceledError"}m.inherits(Ot,U,{__CANCEL__:!0});function ya(r,i,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?r(s):i(new U("Request failed with status code "+s.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const ga=Ae.hasStandardBrowserEnv?{write(r,i,s,a,u,h){const f=[r+"="+encodeURIComponent(i)];m.isNumber(s)&&f.push("expires="+new Date(s).toGMTString()),m.isString(a)&&f.push("path="+a),m.isString(u)&&f.push("domain="+u),h===!0&&f.push("secure"),document.cookie=f.join("; ")},read(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _a(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function ba(r,i){return i?r.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):r}function ri(r,i){return r&&!_a(i)?ba(r,i):i}const wa=Ae.hasStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function u(h){let f=h;return i&&(s.setAttribute("href",f),f=s.href),s.setAttribute("href",f),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=u(window.location.href),function(f){const v=m.isString(f)?u(f):f;return v.protocol===a.protocol&&v.host===a.host}}():function(){return function(){return!0}}();function Sa(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}function Ta(r,i){r=r||10;const s=new Array(r),a=new Array(r);let u=0,h=0,f;return i=i!==void 0?i:1e3,function(_){const O=Date.now(),E=a[h];f||(f=O),s[u]=_,a[u]=O;let y=h,R=0;for(;y!==u;)R+=s[y++],y=y%r;if(u=(u+1)%r,u===h&&(h=(h+1)%r),O-f<i)return;const P=E&&O-E;return P?Math.round(R*1e3/P):void 0}}function Ar(r,i){let s=0;const a=Ta(50,250);return u=>{const h=u.loaded,f=u.lengthComputable?u.total:void 0,v=h-s,_=a(v),O=h<=f;s=h;const E={loaded:h,total:f,progress:f?h/f:void 0,bytes:v,rate:_||void 0,estimated:_&&f&&O?(f-h)/_:void 0,event:u};E[i?"download":"upload"]=!0,r(E)}}const Ea=typeof XMLHttpRequest<"u",ka=Ea&&function(r){return new Promise(function(s,a){let u=r.data;const h=Ne.from(r.headers).normalize();let{responseType:f,withXSRFToken:v}=r,_;function O(){r.cancelToken&&r.cancelToken.unsubscribe(_),r.signal&&r.signal.removeEventListener("abort",_)}let E;if(m.isFormData(u)){if(Ae.hasStandardBrowserEnv||Ae.hasStandardBrowserWebWorkerEnv)h.setContentType(!1);else if((E=h.getContentType())!==!1){const[b,...g]=E?E.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([b||"multipart/form-data",...g].join("; "))}}let y=new XMLHttpRequest;if(r.auth){const b=r.auth.username||"",g=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";h.set("Authorization","Basic "+btoa(b+":"+g))}const R=ri(r.baseURL,r.url);y.open(r.method.toUpperCase(),Qr(R,r.params,r.paramsSerializer),!0),y.timeout=r.timeout;function P(){if(!y)return;const b=Ne.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!f||f==="text"||f==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:r,request:y};ya(function(M){s(M),O()},function(M){a(M),O()},S),y=null}if("onloadend"in y?y.onloadend=P:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(P)},y.onabort=function(){y&&(a(new U("Request aborted",U.ECONNABORTED,r,y)),y=null)},y.onerror=function(){a(new U("Network Error",U.ERR_NETWORK,r,y)),y=null},y.ontimeout=function(){let g=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const S=r.transitional||Zr;r.timeoutErrorMessage&&(g=r.timeoutErrorMessage),a(new U(g,S.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,r,y)),y=null},Ae.hasStandardBrowserEnv&&(v&&m.isFunction(v)&&(v=v(r)),v||v!==!1&&wa(R))){const b=r.xsrfHeaderName&&r.xsrfCookieName&&ga.read(r.xsrfCookieName);b&&h.set(r.xsrfHeaderName,b)}u===void 0&&h.setContentType(null),"setRequestHeader"in y&&m.forEach(h.toJSON(),function(g,S){y.setRequestHeader(S,g)}),m.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),f&&f!=="json"&&(y.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&y.addEventListener("progress",Ar(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",Ar(r.onUploadProgress)),(r.cancelToken||r.signal)&&(_=b=>{y&&(a(!b||b.type?new Ot(null,r,y):b),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(_),r.signal&&(r.signal.aborted?_():r.signal.addEventListener("abort",_)));const k=Sa(R);if(k&&Ae.protocols.indexOf(k)===-1){a(new U("Unsupported protocol "+k+":",U.ERR_BAD_REQUEST,r));return}y.send(u||null)})},Hn={http:Vs,xhr:ka};m.forEach(Hn,(r,i)=>{if(r){try{Object.defineProperty(r,"name",{value:i})}catch{}Object.defineProperty(r,"adapterName",{value:i})}});const Or=r=>`- ${r}`,Ca=r=>m.isFunction(r)||r===null||r===!1,ii={getAdapter:r=>{r=m.isArray(r)?r:[r];const{length:i}=r;let s,a;const u={};for(let h=0;h<i;h++){s=r[h];let f;if(a=s,!Ca(s)&&(a=Hn[(f=String(s)).toLowerCase()],a===void 0))throw new U(`Unknown adapter '${f}'`);if(a)break;u[f||"#"+h]=a}if(!a){const h=Object.entries(u).map(([v,_])=>`adapter ${v} `+(_===!1?"is not supported by the environment":"is not available in the build"));let f=i?h.length>1?`since :
`+h.map(Or).join(`
`):" "+Or(h[0]):"as no adapter specified";throw new U("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a},adapters:Hn};function xn(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ot(null,r)}function Rr(r){return xn(r),r.headers=Ne.from(r.headers),r.data=Pn.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ii.getAdapter(r.adapter||Zn.adapter)(r).then(function(a){return xn(r),a.data=Pn.call(r,r.transformResponse,a),a.headers=Ne.from(a.headers),a},function(a){return ni(a)||(xn(r),a&&a.response&&(a.response.data=Pn.call(r,r.transformResponse,a.response),a.response.headers=Ne.from(a.response.headers))),Promise.reject(a)})}const Pr=r=>r instanceof Ne?r.toJSON():r;function rt(r,i){i=i||{};const s={};function a(O,E,y){return m.isPlainObject(O)&&m.isPlainObject(E)?m.merge.call({caseless:y},O,E):m.isPlainObject(E)?m.merge({},E):m.isArray(E)?E.slice():E}function u(O,E,y){if(m.isUndefined(E)){if(!m.isUndefined(O))return a(void 0,O,y)}else return a(O,E,y)}function h(O,E){if(!m.isUndefined(E))return a(void 0,E)}function f(O,E){if(m.isUndefined(E)){if(!m.isUndefined(O))return a(void 0,O)}else return a(void 0,E)}function v(O,E,y){if(y in i)return a(O,E);if(y in r)return a(void 0,O)}const _={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:v,headers:(O,E)=>u(Pr(O),Pr(E),!0)};return m.forEach(Object.keys(Object.assign({},r,i)),function(E){const y=_[E]||u,R=y(r[E],i[E],E);m.isUndefined(R)&&y!==v||(s[E]=R)}),s}const oi="1.6.7",er={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{er[r]=function(a){return typeof a===r||"a"+(i<1?"n ":" ")+r}});const xr={};er.transitional=function(i,s,a){function u(h,f){return"[Axios v"+oi+"] Transitional option '"+h+"'"+f+(a?". "+a:"")}return(h,f,v)=>{if(i===!1)throw new U(u(f," has been removed"+(s?" in "+s:"")),U.ERR_DEPRECATED);return s&&!xr[f]&&(xr[f]=!0,console.warn(u(f," has been deprecated since v"+s+" and will be removed in the near future"))),i?i(h,f,v):!0}};function Aa(r,i,s){if(typeof r!="object")throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const a=Object.keys(r);let u=a.length;for(;u-- >0;){const h=a[u],f=i[h];if(f){const v=r[h],_=v===void 0||f(v,h,r);if(_!==!0)throw new U("option "+h+" must be "+_,U.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new U("Unknown option "+h,U.ERR_BAD_OPTION)}}const Bn={assertOptions:Aa,validators:er},Fe=Bn.validators;class Zt{constructor(i){this.defaults=i,this.interceptors={request:new kr,response:new kr}}async request(i,s){try{return await this._request(i,s)}catch(a){if(a instanceof Error){let u;Error.captureStackTrace?Error.captureStackTrace(u={}):u=new Error;const h=u.stack?u.stack.replace(/^.+\n/,""):"";a.stack?h&&!String(a.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+h):a.stack=h}throw a}}_request(i,s){typeof i=="string"?(s=s||{},s.url=i):s=i||{},s=rt(this.defaults,s);const{transitional:a,paramsSerializer:u,headers:h}=s;a!==void 0&&Bn.assertOptions(a,{silentJSONParsing:Fe.transitional(Fe.boolean),forcedJSONParsing:Fe.transitional(Fe.boolean),clarifyTimeoutError:Fe.transitional(Fe.boolean)},!1),u!=null&&(m.isFunction(u)?s.paramsSerializer={serialize:u}:Bn.assertOptions(u,{encode:Fe.function,serialize:Fe.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f=h&&m.merge(h.common,h[s.method]);h&&m.forEach(["delete","get","head","post","put","patch","common"],k=>{delete h[k]}),s.headers=Ne.concat(f,h);const v=[];let _=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(_=_&&b.synchronous,v.unshift(b.fulfilled,b.rejected))});const O=[];this.interceptors.response.forEach(function(b){O.push(b.fulfilled,b.rejected)});let E,y=0,R;if(!_){const k=[Rr.bind(this),void 0];for(k.unshift.apply(k,v),k.push.apply(k,O),R=k.length,E=Promise.resolve(s);y<R;)E=E.then(k[y++],k[y++]);return E}R=v.length;let P=s;for(y=0;y<R;){const k=v[y++],b=v[y++];try{P=k(P)}catch(g){b.call(this,g);break}}try{E=Rr.call(this,P)}catch(k){return Promise.reject(k)}for(y=0,R=O.length;y<R;)E=E.then(O[y++],O[y++]);return E}getUri(i){i=rt(this.defaults,i);const s=ri(i.baseURL,i.url);return Qr(s,i.params,i.paramsSerializer)}}m.forEach(["delete","get","head","options"],function(i){Zt.prototype[i]=function(s,a){return this.request(rt(a||{},{method:i,url:s,data:(a||{}).data}))}});m.forEach(["post","put","patch"],function(i){function s(a){return function(h,f,v){return this.request(rt(v||{},{method:i,headers:a?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}Zt.prototype[i]=s(),Zt.prototype[i+"Form"]=s(!0)});const Kt=Zt;class tr{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(h){s=h});const a=this;this.promise.then(u=>{if(!a._listeners)return;let h=a._listeners.length;for(;h-- >0;)a._listeners[h](u);a._listeners=null}),this.promise.then=u=>{let h;const f=new Promise(v=>{a.subscribe(v),h=v}).then(u);return f.cancel=function(){a.unsubscribe(h)},f},i(function(h,f,v){a.reason||(a.reason=new Ot(h,f,v),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}static source(){let i;return{token:new tr(function(u){i=u}),cancel:i}}}const Oa=tr;function Ra(r){return function(s){return r.apply(null,s)}}function Pa(r){return m.isObject(r)&&r.isAxiosError===!0}const qn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qn).forEach(([r,i])=>{qn[i]=r});const xa=qn;function si(r){const i=new Kt(r),s=Hr(Kt.prototype.request,i);return m.extend(s,Kt.prototype,i,{allOwnKeys:!0}),m.extend(s,i,null,{allOwnKeys:!0}),s.create=function(u){return si(rt(r,u))},s}const X=si(Zn);X.Axios=Kt;X.CanceledError=Ot;X.CancelToken=Oa;X.isCancel=ni;X.VERSION=oi;X.toFormData=sn;X.AxiosError=U;X.Cancel=X.CanceledError;X.all=function(i){return Promise.all(i)};X.spread=Ra;X.isAxiosError=Pa;X.mergeConfig=rt;X.AxiosHeaders=Ne;X.formToJSON=r=>ti(m.isHTMLForm(r)?new FormData(r):r);X.getAdapter=ii.getAdapter;X.HttpStatusCode=xa;X.default=X;const La=X;function zn(r){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},zn(r)}function Z(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function Lr(r,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function ee(r,i,s){return i&&Lr(r.prototype,i),s&&Lr(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r}function Wn(){return Wn=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])}return r},Wn.apply(this,arguments)}function he(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&$n(r,i)}function en(r){return en=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},en(r)}function $n(r,i){return $n=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},$n(r,i)}function Na(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ia(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Da(r,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ia(r)}function fe(r){var i=Na();return function(){var a=en(r),u;if(i){var h=en(this).constructor;u=Reflect.construct(a,arguments,h)}else u=a.apply(this,arguments);return Da(this,u)}}var nr=function(){function r(){Z(this,r)}return ee(r,[{key:"listenForWhisper",value:function(s,a){return this.listen(".client-"+s,a)}},{key:"notification",value:function(s){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",s)}},{key:"stopListeningForWhisper",value:function(s,a){return this.stopListening(".client-"+s,a)}}]),r}(),ai=function(){function r(i){Z(this,r),this.setNamespace(i)}return ee(r,[{key:"format",value:function(s){return s.charAt(0)==="."||s.charAt(0)==="\\"?s.substr(1):(this.namespace&&(s=this.namespace+"."+s),s.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(s){this.namespace=s}}]),r}(),cn=function(r){he(s,r);var i=fe(s);function s(a,u,h){var f;return Z(this,s),f=i.call(this),f.name=u,f.pusher=a,f.options=h,f.eventFormatter=new ai(f.options.namespace),f.subscribe(),f}return ee(s,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(u,h){return this.on(this.eventFormatter.format(u),h),this}},{key:"listenToAll",value:function(u){var h=this;return this.subscription.bind_global(function(f,v){if(!f.startsWith("pusher:")){var _=h.options.namespace.replace(/\./g,"\\"),O=f.startsWith(_)?f.substring(_.length+1):"."+f;u(O,v)}}),this}},{key:"stopListening",value:function(u,h){return h?this.subscription.unbind(this.eventFormatter.format(u),h):this.subscription.unbind(this.eventFormatter.format(u)),this}},{key:"stopListeningToAll",value:function(u){return u?this.subscription.unbind_global(u):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(u){return this.on("pusher:subscription_succeeded",function(){u()}),this}},{key:"error",value:function(u){return this.on("pusher:subscription_error",function(h){u(h)}),this}},{key:"on",value:function(u,h){return this.subscription.bind(u,h),this}}]),s}(nr),Ma=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}}]),s}(cn),ja=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}}]),s}(cn),Ua=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"here",value:function(u){return this.on("pusher:subscription_succeeded",function(h){u(Object.keys(h.members).map(function(f){return h.members[f]}))}),this}},{key:"joining",value:function(u){return this.on("pusher:member_added",function(h){u(h.info)}),this}},{key:"leaving",value:function(u){return this.on("pusher:member_removed",function(h){u(h.info)}),this}},{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}}]),s}(cn),ci=function(r){he(s,r);var i=fe(s);function s(a,u,h){var f;return Z(this,s),f=i.call(this),f.events={},f.listeners={},f.name=u,f.socket=a,f.options=h,f.eventFormatter=new ai(f.options.namespace),f.subscribe(),f}return ee(s,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(u,h){return this.on(this.eventFormatter.format(u),h),this}},{key:"stopListening",value:function(u,h){return this.unbindEvent(this.eventFormatter.format(u),h),this}},{key:"subscribed",value:function(u){return this.on("connect",function(h){u(h)}),this}},{key:"error",value:function(u){return this}},{key:"on",value:function(u,h){var f=this;return this.listeners[u]=this.listeners[u]||[],this.events[u]||(this.events[u]=function(v,_){f.name===v&&f.listeners[u]&&f.listeners[u].forEach(function(O){return O(_)})},this.socket.on(u,this.events[u])),this.listeners[u].push(h),this}},{key:"unbind",value:function(){var u=this;Object.keys(this.events).forEach(function(h){u.unbindEvent(h)})}},{key:"unbindEvent",value:function(u,h){this.listeners[u]=this.listeners[u]||[],h&&(this.listeners[u]=this.listeners[u].filter(function(f){return f!==h})),(!h||this.listeners[u].length===0)&&(this.events[u]&&(this.socket.removeListener(u,this.events[u]),delete this.events[u]),delete this.listeners[u])}}]),s}(nr),ui=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"whisper",value:function(u,h){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(u),data:h}),this}}]),s}(ci),Fa=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"here",value:function(u){return this.on("presence:subscribed",function(h){u(h.map(function(f){return f.user_info}))}),this}},{key:"joining",value:function(u){return this.on("presence:joining",function(h){return u(h.user_info)}),this}},{key:"leaving",value:function(u){return this.on("presence:leaving",function(h){return u(h.user_info)}),this}}]),s}(ui),tn=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(u,h){return this}},{key:"listenToAll",value:function(u){return this}},{key:"stopListening",value:function(u,h){return this}},{key:"subscribed",value:function(u){return this}},{key:"error",value:function(u){return this}},{key:"on",value:function(u,h){return this}}]),s}(nr),Nr=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"whisper",value:function(u,h){return this}}]),s}(tn),Ha=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"here",value:function(u){return this}},{key:"joining",value:function(u){return this}},{key:"leaving",value:function(u){return this}},{key:"whisper",value:function(u,h){return this}}]),s}(tn),rr=function(){function r(i){Z(this,r),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(i),this.connect()}return ee(r,[{key:"setOptions",value:function(s){this.options=Wn(this._defaultOptions,s);var a=this.csrfToken();return a&&(this.options.auth.headers["X-CSRF-TOKEN"]=a,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=a),a=this.options.bearerToken,a&&(this.options.auth.headers.Authorization="Bearer "+a,this.options.userAuthentication.headers.Authorization="Bearer "+a),s}},{key:"csrfToken",value:function(){var s;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(s=document.querySelector('meta[name="csrf-token"]'))?s.getAttribute("content"):null}}]),r}(),Ba=function(r){he(s,r);var i=fe(s);function s(){var a;return Z(this,s),a=i.apply(this,arguments),a.channels={},a}return ee(s,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(u,h,f){return this.channel(u).listen(h,f)}},{key:"channel",value:function(u){return this.channels[u]||(this.channels[u]=new cn(this.pusher,u,this.options)),this.channels[u]}},{key:"privateChannel",value:function(u){return this.channels["private-"+u]||(this.channels["private-"+u]=new Ma(this.pusher,"private-"+u,this.options)),this.channels["private-"+u]}},{key:"encryptedPrivateChannel",value:function(u){return this.channels["private-encrypted-"+u]||(this.channels["private-encrypted-"+u]=new ja(this.pusher,"private-encrypted-"+u,this.options)),this.channels["private-encrypted-"+u]}},{key:"presenceChannel",value:function(u){return this.channels["presence-"+u]||(this.channels["presence-"+u]=new Ua(this.pusher,"presence-"+u,this.options)),this.channels["presence-"+u]}},{key:"leave",value:function(u){var h=this,f=[u,"private-"+u,"private-encrypted-"+u,"presence-"+u];f.forEach(function(v,_){h.leaveChannel(v)})}},{key:"leaveChannel",value:function(u){this.channels[u]&&(this.channels[u].unsubscribe(),delete this.channels[u])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),s}(rr),qa=function(r){he(s,r);var i=fe(s);function s(){var a;return Z(this,s),a=i.apply(this,arguments),a.channels={},a}return ee(s,[{key:"connect",value:function(){var u=this,h=this.getSocketIO();return this.socket=h(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(u.channels).forEach(function(f){f.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(u,h,f){return this.channel(u).listen(h,f)}},{key:"channel",value:function(u){return this.channels[u]||(this.channels[u]=new ci(this.socket,u,this.options)),this.channels[u]}},{key:"privateChannel",value:function(u){return this.channels["private-"+u]||(this.channels["private-"+u]=new ui(this.socket,"private-"+u,this.options)),this.channels["private-"+u]}},{key:"presenceChannel",value:function(u){return this.channels["presence-"+u]||(this.channels["presence-"+u]=new Fa(this.socket,"presence-"+u,this.options)),this.channels["presence-"+u]}},{key:"leave",value:function(u){var h=this,f=[u,"private-"+u,"presence-"+u];f.forEach(function(v){h.leaveChannel(v)})}},{key:"leaveChannel",value:function(u){this.channels[u]&&(this.channels[u].unsubscribe(),delete this.channels[u])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),s}(rr),za=function(r){he(s,r);var i=fe(s);function s(){var a;return Z(this,s),a=i.apply(this,arguments),a.channels={},a}return ee(s,[{key:"connect",value:function(){}},{key:"listen",value:function(u,h,f){return new tn}},{key:"channel",value:function(u){return new tn}},{key:"privateChannel",value:function(u){return new Nr}},{key:"encryptedPrivateChannel",value:function(u){return new Nr}},{key:"presenceChannel",value:function(u){return new Ha}},{key:"leave",value:function(u){}},{key:"leaveChannel",value:function(u){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),s}(rr),Wa=function(){function r(i){Z(this,r),this.options=i,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return ee(r,[{key:"channel",value:function(s){return this.connector.channel(s)}},{key:"connect",value:function(){this.options.broadcaster=="pusher"?this.connector=new Ba(this.options):this.options.broadcaster=="socket.io"?this.connector=new qa(this.options):this.options.broadcaster=="null"?this.connector=new za(this.options):typeof this.options.broadcaster=="function"&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(s){return this.connector.presenceChannel(s)}},{key:"leave",value:function(s){this.connector.leave(s)}},{key:"leaveChannel",value:function(s){this.connector.leaveChannel(s)}},{key:"leaveAllChannels",value:function(){for(var s in this.connector.channels)this.leaveChannel(s)}},{key:"listen",value:function(s,a,u){return this.connector.listen(s,a,u)}},{key:"private",value:function(s){return this.connector.privateChannel(s)}},{key:"encryptedPrivate",value:function(s){return this.connector.encryptedPrivateChannel(s)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":zn(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var s=this;Vue.http.interceptors.push(function(a,u){s.socketId()&&a.headers.set("X-Socket-ID",s.socketId()),u()})}},{key:"registerAxiosRequestInterceptor",value:function(){var s=this;axios.interceptors.request.use(function(a){return s.socketId()&&(a.headers["X-Socket-Id"]=s.socketId()),a})}},{key:"registerjQueryAjaxSetup",value:function(){var s=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(a,u,h){s.socketId()&&h.setRequestHeader("X-Socket-Id",s.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var s=this;document.addEventListener("turbo:before-fetch-request",function(a){a.detail.fetchOptions.headers["X-Socket-Id"]=s.socketId()})}}]),r}();function $a(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var li={exports:{}};/*!
 * Pusher JavaScript Library v8.0.2
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(r,i){(function(a,u){r.exports=u()})(window,function(){return function(s){var a={};function u(h){if(a[h])return a[h].exports;var f=a[h]={i:h,l:!1,exports:{}};return s[h].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=s,u.c=a,u.d=function(h,f,v){u.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:v})},u.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},u.t=function(h,f){if(f&1&&(h=u(h)),f&8||f&4&&typeof h=="object"&&h&&h.__esModule)return h;var v=Object.create(null);if(u.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:h}),f&2&&typeof h!="string")for(var _ in h)u.d(v,_,(function(O){return h[O]}).bind(null,_));return v},u.n=function(h){var f=h&&h.__esModule?function(){return h.default}:function(){return h};return u.d(f,"a",f),f},u.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},u.p="",u(u.s=2)}([function(s,a,u){var h=this&&this.__extends||function(){var b=function(g,S){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,M){x.__proto__=M}||function(x,M){for(var F in M)M.hasOwnProperty(F)&&(x[F]=M[F])},b(g,S)};return function(g,S){b(g,S);function x(){this.constructor=g}g.prototype=S===null?Object.create(S):(x.prototype=S.prototype,new x)}}();Object.defineProperty(a,"__esModule",{value:!0});var f=256,v=function(){function b(g){g===void 0&&(g="="),this._paddingCharacter=g}return b.prototype.encodedLength=function(g){return this._paddingCharacter?(g+2)/3*4|0:(g*8+5)/6|0},b.prototype.encode=function(g){for(var S="",x=0;x<g.length-2;x+=3){var M=g[x]<<16|g[x+1]<<8|g[x+2];S+=this._encodeByte(M>>>3*6&63),S+=this._encodeByte(M>>>2*6&63),S+=this._encodeByte(M>>>1*6&63),S+=this._encodeByte(M>>>0*6&63)}var F=g.length-x;if(F>0){var M=g[x]<<16|(F===2?g[x+1]<<8:0);S+=this._encodeByte(M>>>3*6&63),S+=this._encodeByte(M>>>2*6&63),F===2?S+=this._encodeByte(M>>>1*6&63):S+=this._paddingCharacter||"",S+=this._paddingCharacter||""}return S},b.prototype.maxDecodedLength=function(g){return this._paddingCharacter?g/4*3|0:(g*6+7)/8|0},b.prototype.decodedLength=function(g){return this.maxDecodedLength(g.length-this._getPaddingLength(g))},b.prototype.decode=function(g){if(g.length===0)return new Uint8Array(0);for(var S=this._getPaddingLength(g),x=g.length-S,M=new Uint8Array(this.maxDecodedLength(x)),F=0,K=0,te=0,ce=0,pe=0,ue=0,de=0;K<x-4;K+=4)ce=this._decodeChar(g.charCodeAt(K+0)),pe=this._decodeChar(g.charCodeAt(K+1)),ue=this._decodeChar(g.charCodeAt(K+2)),de=this._decodeChar(g.charCodeAt(K+3)),M[F++]=ce<<2|pe>>>4,M[F++]=pe<<4|ue>>>2,M[F++]=ue<<6|de,te|=ce&f,te|=pe&f,te|=ue&f,te|=de&f;if(K<x-1&&(ce=this._decodeChar(g.charCodeAt(K)),pe=this._decodeChar(g.charCodeAt(K+1)),M[F++]=ce<<2|pe>>>4,te|=ce&f,te|=pe&f),K<x-2&&(ue=this._decodeChar(g.charCodeAt(K+2)),M[F++]=pe<<4|ue>>>2,te|=ue&f),K<x-3&&(de=this._decodeChar(g.charCodeAt(K+3)),M[F++]=ue<<6|de,te|=de&f),te!==0)throw new Error("Base64Coder: incorrect characters for decoding");return M},b.prototype._encodeByte=function(g){var S=g;return S+=65,S+=25-g>>>8&0-65-26+97,S+=51-g>>>8&26-97-52+48,S+=61-g>>>8&52-48-62+43,S+=62-g>>>8&62-43-63+47,String.fromCharCode(S)},b.prototype._decodeChar=function(g){var S=f;return S+=(42-g&g-44)>>>8&-f+g-43+62,S+=(46-g&g-48)>>>8&-f+g-47+63,S+=(47-g&g-58)>>>8&-f+g-48+52,S+=(64-g&g-91)>>>8&-f+g-65+0,S+=(96-g&g-123)>>>8&-f+g-97+26,S},b.prototype._getPaddingLength=function(g){var S=0;if(this._paddingCharacter){for(var x=g.length-1;x>=0&&g[x]===this._paddingCharacter;x--)S++;if(g.length<4||S>2)throw new Error("Base64Coder: incorrect padding")}return S},b}();a.Coder=v;var _=new v;function O(b){return _.encode(b)}a.encode=O;function E(b){return _.decode(b)}a.decode=E;var y=function(b){h(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype._encodeByte=function(S){var x=S;return x+=65,x+=25-S>>>8&0-65-26+97,x+=51-S>>>8&26-97-52+48,x+=61-S>>>8&52-48-62+45,x+=62-S>>>8&62-45-63+95,String.fromCharCode(x)},g.prototype._decodeChar=function(S){var x=f;return x+=(44-S&S-46)>>>8&-f+S-45+62,x+=(94-S&S-96)>>>8&-f+S-95+63,x+=(47-S&S-58)>>>8&-f+S-48+52,x+=(64-S&S-91)>>>8&-f+S-65+0,x+=(96-S&S-123)>>>8&-f+S-97+26,x},g}(v);a.URLSafeCoder=y;var R=new y;function P(b){return R.encode(b)}a.encodeURLSafe=P;function k(b){return R.decode(b)}a.decodeURLSafe=k,a.encodedLength=function(b){return _.encodedLength(b)},a.maxDecodedLength=function(b){return _.maxDecodedLength(b)},a.decodedLength=function(b){return _.decodedLength(b)}},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var h="utf8: invalid string",f="utf8: invalid source encoding";function v(E){for(var y=new Uint8Array(_(E)),R=0,P=0;P<E.length;P++){var k=E.charCodeAt(P);k<128?y[R++]=k:k<2048?(y[R++]=192|k>>6,y[R++]=128|k&63):k<55296?(y[R++]=224|k>>12,y[R++]=128|k>>6&63,y[R++]=128|k&63):(P++,k=(k&1023)<<10,k|=E.charCodeAt(P)&1023,k+=65536,y[R++]=240|k>>18,y[R++]=128|k>>12&63,y[R++]=128|k>>6&63,y[R++]=128|k&63)}return y}a.encode=v;function _(E){for(var y=0,R=0;R<E.length;R++){var P=E.charCodeAt(R);if(P<128)y+=1;else if(P<2048)y+=2;else if(P<55296)y+=3;else if(P<=57343){if(R>=E.length-1)throw new Error(h);R++,y+=4}else throw new Error(h)}return y}a.encodedLength=_;function O(E){for(var y=[],R=0;R<E.length;R++){var P=E[R];if(P&128){var k=void 0;if(P<224){if(R>=E.length)throw new Error(f);var b=E[++R];if((b&192)!==128)throw new Error(f);P=(P&31)<<6|b&63,k=128}else if(P<240){if(R>=E.length-1)throw new Error(f);var b=E[++R],g=E[++R];if((b&192)!==128||(g&192)!==128)throw new Error(f);P=(P&15)<<12|(b&63)<<6|g&63,k=2048}else if(P<248){if(R>=E.length-2)throw new Error(f);var b=E[++R],g=E[++R],S=E[++R];if((b&192)!==128||(g&192)!==128||(S&192)!==128)throw new Error(f);P=(P&15)<<18|(b&63)<<12|(g&63)<<6|S&63,k=65536}else throw new Error(f);if(P<k||P>=55296&&P<=57343)throw new Error(f);if(P>=65536){if(P>1114111)throw new Error(f);P-=65536,y.push(String.fromCharCode(55296|P>>10)),P=56320|P&1023}}y.push(String.fromCharCode(P))}return y.join("")}a.decode=O},function(s,a,u){s.exports=u(3).default},function(s,a,u){u.r(a);var h=function(){function t(e,n){this.lastId=0,this.prefix=e,this.name=n}return t.prototype.create=function(e){this.lastId++;var n=this.lastId,o=this.prefix+n,c=this.name+"["+n+"]",l=!1,d=function(){l||(e.apply(null,arguments),l=!0)};return this[n]=d,{number:n,id:o,name:c,callback:d}},t.prototype.remove=function(e){delete this[e.number]},t}(),f=new h("_pusher_script_","Pusher.ScriptReceivers"),v={VERSION:"8.0.2",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},_=v,O=function(){function t(e){this.options=e,this.receivers=e.receivers||f,this.loading={}}return t.prototype.load=function(e,n,o){var c=this;if(c.loading[e]&&c.loading[e].length>0)c.loading[e].push(o);else{c.loading[e]=[o];var l=I.createScriptRequest(c.getPath(e,n)),d=c.receivers.create(function(T){if(c.receivers.remove(d),c.loading[e]){var L=c.loading[e];delete c.loading[e];for(var A=function(G){G||l.cleanup()},j=0;j<L.length;j++)L[j](T,A)}});l.send(d)}},t.prototype.getRoot=function(e){var n,o=I.getDocument().location.protocol;return e&&e.useTLS||o==="https:"?n=this.options.cdn_https:n=this.options.cdn_http,n.replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(e,n){return this.getRoot(n)+"/"+e+this.options.suffix+".js"},t}(),E=O,y=new h("_pusher_dependencies","Pusher.DependenciesReceivers"),R=new E({cdn_http:_.cdn_http,cdn_https:_.cdn_https,version:_.VERSION,suffix:_.dependency_suffix,receivers:y}),P={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},k=function(t){var e="See:",n=P.urls[t];if(!n)return"";var o;return n.fullUrl?o=n.fullUrl:n.path&&(o=P.baseUrl+n.path),o?e+" "+o:""},b={buildLogSuffix:k},g;(function(t){t.UserAuthentication="user-authentication",t.ChannelAuthorization="channel-authorization"})(g||(g={}));var S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),M=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),F=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),K=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),te=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),ce=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),pe=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),ue=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),de=function(t){S(e,t);function e(n,o){var c=this.constructor,l=t.call(this,o)||this;return l.status=n,Object.setPrototypeOf(l,c.prototype),l}return e}(Error),un=function(t,e,n,o,c){var l=I.createXHR();l.open("POST",n.endpoint,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var d in n.headers)l.setRequestHeader(d,n.headers[d]);if(n.headersProvider!=null){var T=n.headersProvider();for(var d in T)l.setRequestHeader(d,T[d])}return l.onreadystatechange=function(){if(l.readyState===4)if(l.status===200){var L=void 0,A=!1;try{L=JSON.parse(l.responseText),A=!0}catch{c(new de(200,"JSON returned from "+o.toString()+" endpoint was invalid, yet status code was 200. Data was: "+l.responseText),null)}A&&c(null,L)}else{var j="";switch(o){case g.UserAuthentication:j=b.buildLogSuffix("authenticationEndpoint");break;case g.ChannelAuthorization:j="Clients must be authorized to join private or presence channels. "+b.buildLogSuffix("authorizationEndpoint");break}c(new de(l.status,"Unable to retrieve auth string from "+o.toString()+" endpoint - "+("received status: "+l.status+" from "+n.endpoint+". "+j)),null)}},l.send(e),l},ve=un;function ot(t){return Rt(hn(t))}var Re=String.fromCharCode,Ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ln=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?Re(192|e>>>6)+Re(128|e&63):Re(224|e>>>12&15)+Re(128|e>>>6&63)+Re(128|e&63)},hn=function(t){return t.replace(/[^\x00-\x7F]/g,ln)},fn=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),o=[Ie.charAt(n>>>18),Ie.charAt(n>>>12&63),e>=2?"=":Ie.charAt(n>>>6&63),e>=1?"=":Ie.charAt(n&63)];return o.join("")},Rt=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,fn)},st=function(){function t(e,n,o,c){var l=this;this.clear=n,this.timer=e(function(){l.timer&&(l.timer=c(l.timer))},o)}return t.prototype.isRunning=function(){return this.timer!==null},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}(),z=st,at=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();function W(t){window.clearTimeout(t)}function Pt(t){window.clearInterval(t)}var B=function(t){at(e,t);function e(n,o){return t.call(this,setTimeout,W,n,function(c){return o(),null})||this}return e}(z),He=function(t){at(e,t);function e(n,o){return t.call(this,setInterval,Pt,n,function(c){return o(),c})||this}return e}(z),ct={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(t){return new B(0,t)},method:function(t){var e=Array.prototype.slice.call(arguments,1);return function(n){return n[t].apply(n,e.concat(arguments))}}},J=ct;function Y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=0;o<e.length;o++){var c=e[o];for(var l in c)c[l]&&c[l].constructor&&c[l].constructor===Object?t[l]=Y(t[l]||{},c[l]):t[l]=c[l]}return t}function xt(){for(var t=["Pusher"],e=0;e<arguments.length;e++)typeof arguments[e]=="string"?t.push(arguments[e]):t.push(ze(arguments[e]));return t.join(" : ")}function ut(t,e){var n=Array.prototype.indexOf;if(t===null)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var o=0,c=t.length;o<c;o++)if(t[o]===e)return o;return-1}function ne(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function ke(t){var e=[];return ne(t,function(n,o){e.push(o)}),e}function lt(t){var e=[];return ne(t,function(n){e.push(n)}),e}function Pe(t,e,n){for(var o=0;o<t.length;o++)e.call(n||window,t[o],o,t)}function xe(t,e){for(var n=[],o=0;o<t.length;o++)n.push(e(t[o],o,t,n));return n}function Ke(t,e){var n={};return ne(t,function(o,c){n[c]=e(o)}),n}function Be(t,e){e=e||function(c){return!!c};for(var n=[],o=0;o<t.length;o++)e(t[o],o,t,n)&&n.push(t[o]);return n}function ht(t,e){var n={};return ne(t,function(o,c){(e&&e(o,c,t,n)||o)&&(n[c]=o)}),n}function Lt(t){var e=[];return ne(t,function(n,o){e.push([o,n])}),e}function Nt(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function ft(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}function qe(t){return Ke(t,function(e){return typeof e=="object"&&(e=ze(e)),encodeURIComponent(ot(e.toString()))})}function De(t){var e=ht(t,function(o){return o!==void 0}),n=xe(Lt(qe(e)),J.method("join","=")).join("&");return n}function Me(t){var e=[],n=[];return function o(c,l){var d,T,L;switch(typeof c){case"object":if(!c)return null;for(d=0;d<e.length;d+=1)if(e[d]===c)return{$ref:n[d]};if(e.push(c),n.push(l),Object.prototype.toString.apply(c)==="[object Array]")for(L=[],d=0;d<c.length;d+=1)L[d]=o(c[d],l+"["+d+"]");else{L={};for(T in c)Object.prototype.hasOwnProperty.call(c,T)&&(L[T]=o(c[T],l+"["+JSON.stringify(T)+"]"))}return L;case"number":case"string":case"boolean":return c}}(t,"$")}function ze(t){try{return JSON.stringify(t)}catch{return JSON.stringify(Me(t))}}var It=function(){function t(){this.globalLog=function(e){window.console&&window.console.log&&window.console.log(e)}}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLog,e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLogWarn,e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLogError,e)},t.prototype.globalLogWarn=function(e){window.console&&window.console.warn?window.console.warn(e):this.globalLog(e)},t.prototype.globalLogError=function(e){window.console&&window.console.error?window.console.error(e):this.globalLogWarn(e)},t.prototype.log=function(e){var n=xt.apply(this,arguments);if(kn.log)kn.log(n);else if(kn.logToConsole){var o=e.bind(this);o(n)}},t}(),q=new It,pt=function(t,e,n,o,c){(n.headers!==void 0||n.headersProvider!=null)&&q.warn("To send headers with the "+o.toString()+" request, you must use AJAX, rather than JSONP.");var l=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var d=t.getDocument(),T=d.createElement("script");t.auth_callbacks[l]=function(j){c(null,j)};var L="Pusher.auth_callbacks['"+l+"']";T.src=n.endpoint+"?callback="+encodeURIComponent(L)+"&"+e;var A=d.getElementsByTagName("head")[0]||d.documentElement;A.insertBefore(T,A.firstChild)},Dt=pt,Ye=function(){function t(e){this.src=e}return t.prototype.send=function(e){var n=this,o="Error loading "+n.src;n.script=document.createElement("script"),n.script.id=e.id,n.script.src=n.src,n.script.type="text/javascript",n.script.charset="UTF-8",n.script.addEventListener?(n.script.onerror=function(){e.callback(o)},n.script.onload=function(){e.callback(null)}):n.script.onreadystatechange=function(){(n.script.readyState==="loaded"||n.script.readyState==="complete")&&e.callback(null)},n.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(n.errorScript=document.createElement("script"),n.errorScript.id=e.id+"_error",n.errorScript.text=e.name+"('"+o+"');",n.script.async=n.errorScript.async=!1):n.script.async=!0;var c=document.getElementsByTagName("head")[0];c.insertBefore(n.script,c.firstChild),n.errorScript&&c.insertBefore(n.errorScript,n.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}(),Qe=Ye,_e=function(){function t(e,n){this.url=e,this.data=n}return t.prototype.send=function(e){if(!this.request){var n=De(this.data),o=this.url+"/"+e.number+"?"+n;this.request=I.createScriptRequest(o),this.request.send(e)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}(),je=_e,dt=function(t,e){return function(n,o){var c="http"+(e?"s":"")+"://",l=c+(t.host||t.options.host)+t.options.path,d=I.createJSONPRequest(l,n),T=I.ScriptReceivers.create(function(L,A){f.remove(T),d.cleanup(),A&&A.host&&(t.host=A.host),o&&o(L,A)});d.send(T)}},vt={name:"jsonp",getAgent:dt},pn=vt;function be(t,e,n){var o=t+(e.useTLS?"s":""),c=e.useTLS?e.hostTLS:e.hostNonTLS;return o+"://"+c+n}function mt(t,e){var n="/app/"+t,o="?protocol="+_.PROTOCOL+"&client=js&version="+_.VERSION+(e?"&"+e:"");return n+o}var dn={getInitial:function(t,e){var n=(e.httpPath||"")+mt(t,"flash=false");return be("ws",e,n)}},$={getInitial:function(t,e){var n=(e.httpPath||"/pusher")+mt(t);return be("http",e,n)}},Ue={getInitial:function(t,e){return be("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return mt(t)}},vn=function(){function t(){this._callbacks={}}return t.prototype.get=function(e){return this._callbacks[We(e)]},t.prototype.add=function(e,n,o){var c=We(e);this._callbacks[c]=this._callbacks[c]||[],this._callbacks[c].push({fn:n,context:o})},t.prototype.remove=function(e,n,o){if(!e&&!n&&!o){this._callbacks={};return}var c=e?[We(e)]:ke(this._callbacks);n||o?this.removeCallback(c,n,o):this.removeAllCallbacks(c)},t.prototype.removeCallback=function(e,n,o){Pe(e,function(c){this._callbacks[c]=Be(this._callbacks[c]||[],function(l){return n&&n!==l.fn||o&&o!==l.context}),this._callbacks[c].length===0&&delete this._callbacks[c]},this)},t.prototype.removeAllCallbacks=function(e){Pe(e,function(n){delete this._callbacks[n]},this)},t}(),Mt=vn;function We(t){return"_"+t}var jt=function(){function t(e){this.callbacks=new Mt,this.global_callbacks=[],this.failThrough=e}return t.prototype.bind=function(e,n,o){return this.callbacks.add(e,n,o),this},t.prototype.bind_global=function(e){return this.global_callbacks.push(e),this},t.prototype.unbind=function(e,n,o){return this.callbacks.remove(e,n,o),this},t.prototype.unbind_global=function(e){return e?(this.global_callbacks=Be(this.global_callbacks||[],function(n){return n!==e}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(e,n,o){for(var c=0;c<this.global_callbacks.length;c++)this.global_callbacks[c](e,n);var l=this.callbacks.get(e),d=[];if(o?d.push(n,o):n&&d.push(n),l&&l.length>0)for(var c=0;c<l.length;c++)l[c].fn.apply(l[c].context||window,d);else this.failThrough&&this.failThrough(e,n);return this},t}(),me=jt,mn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ze=function(t){mn(e,t);function e(n,o,c,l,d){var T=t.call(this)||this;return T.initialize=I.transportConnectionInitializer,T.hooks=n,T.name=o,T.priority=c,T.key=l,T.options=d,T.state="new",T.timeline=d.timeline,T.activityTimeout=d.activityTimeout,T.id=T.timeline.generateUniqueID(),T}return e.prototype.handlesActivityChecks=function(){return!!this.hooks.handlesActivityChecks},e.prototype.supportsPing=function(){return!!this.hooks.supportsPing},e.prototype.connect=function(){var n=this;if(this.socket||this.state!=="initialized")return!1;var o=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(o,this.options)}catch(c){return J.defer(function(){n.onError(c),n.changeState("closed")}),!1}return this.bindListeners(),q.debug("Connecting",{transport:this.name,url:o}),this.changeState("connecting"),!0},e.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},e.prototype.send=function(n){var o=this;return this.state==="open"?(J.defer(function(){o.socket&&o.socket.send(n)}),!0):!1},e.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(n){this.emit("error",{type:"WebSocketError",error:n}),this.timeline.error(this.buildTimelineMessage({error:n.toString()}))},e.prototype.onClose=function(n){n?this.changeState("closed",{code:n.code,reason:n.reason,wasClean:n.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(n){this.emit("message",n)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var n=this;this.socket.onopen=function(){n.onOpen()},this.socket.onerror=function(o){n.onError(o)},this.socket.onclose=function(o){n.onClose(o)},this.socket.onmessage=function(o){n.onMessage(o)},this.supportsPing()&&(this.socket.onactivity=function(){n.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(n,o){this.state=n,this.timeline.info(this.buildTimelineMessage({state:n,params:o})),this.emit(n,o)},e.prototype.buildTimelineMessage=function(n){return Y({cid:this.id},n)},e}(me),yt=Ze,yn=function(){function t(e){this.hooks=e}return t.prototype.isSupported=function(e){return this.hooks.isSupported(e)},t.prototype.createConnection=function(e,n,o,c){return new yt(this.hooks,e,n,o,c)},t}(),se=yn,gt=new se({urls:dn,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!I.getWebSocketAPI()},isSupported:function(){return!!I.getWebSocketAPI()},getSocket:function(t){return I.createWebSocket(t)}}),_t={urls:$,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},bt=Y({getSocket:function(t){return I.HTTPFactory.createStreamingSocket(t)}},_t),Ut=Y({getSocket:function(t){return I.HTTPFactory.createPollingSocket(t)}},_t),$e={isSupported:function(){return I.isXHRSupported()}},we=new se(Y({},bt,$e)),Ft=new se(Y({},Ut,$e)),Ht={ws:gt,xhr_streaming:we,xhr_polling:Ft},Ge=Ht,Bt=new se({file:"sockjs",urls:Ue,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:R.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),qt={isSupported:function(t){var e=I.isXDRSupported(t.useTLS);return e}},N=new se(Y({},bt,qt)),p=new se(Y({},Ut,qt));Ge.xdr_streaming=N,Ge.xdr_polling=p,Ge.sockjs=Bt;var w=Ge,C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),H=function(t){C(e,t);function e(){var n=t.call(this)||this,o=n;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){o.emit("online")},!1),window.addEventListener("offline",function(){o.emit("offline")},!1)),n}return e.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},e}(me),V=new H,ae=function(){function t(e,n,o){this.manager=e,this.transport=n,this.minPingDelay=o.minPingDelay,this.maxPingDelay=o.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(e,n,o,c){var l=this;c=Y({},c,{activityTimeout:this.pingDelay});var d=this.transport.createConnection(e,n,o,c),T=null,L=function(){d.unbind("open",L),d.bind("closed",A),T=J.now()},A=function(j){if(d.unbind("closed",A),j.code===1002||j.code===1003)l.manager.reportDeath();else if(!j.wasClean&&T){var G=J.now()-T;G<2*l.maxPingDelay&&(l.manager.reportDeath(),l.pingDelay=Math.max(G/2,l.minPingDelay))}};return d.bind("open",L),d},t.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},t}(),Q=ae,re={decodeMessage:function(t){try{var e=JSON.parse(t.data),n=e.data;if(typeof n=="string")try{n=JSON.parse(e.data)}catch{}var o={event:e.event,channel:e.channel,data:n};return e.user_id&&(o.user_id=e.user_id),o}catch(c){throw{type:"MessageParseError",error:c,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=re.decodeMessage(t);if(e.event==="pusher:connection_established"){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:e.data.activity_timeout*1e3}}else{if(e.event==="pusher:error")return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"}},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:t.code===4e3?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return t.code!==1e3&&t.code!==1001?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},ie=re,wt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),zt=function(t){wt(e,t);function e(n,o){var c=t.call(this)||this;return c.id=n,c.transport=o,c.activityTimeout=o.activityTimeout,c.bindListeners(),c}return e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(n){return this.transport.send(n)},e.prototype.send_event=function(n,o,c){var l={event:n,data:o};return c&&(l.channel=c),q.debug("Event sent",l),this.send(ie.encodeMessage(l))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var n=this,o={message:function(l){var d;try{d=ie.decodeMessage(l)}catch(T){n.emit("error",{type:"MessageParseError",error:T,data:l.data})}if(d!==void 0){switch(q.debug("Event recd",d),d.event){case"pusher:error":n.emit("error",{type:"PusherError",data:d.data});break;case"pusher:ping":n.emit("ping");break;case"pusher:pong":n.emit("pong");break}n.emit("message",d)}},activity:function(){n.emit("activity")},error:function(l){n.emit("error",l)},closed:function(l){c(),l&&l.code&&n.handleCloseEvent(l),n.transport=null,n.emit("closed")}},c=function(){ne(o,function(l,d){n.transport.unbind(d,l)})};ne(o,function(l,d){n.transport.bind(d,l)})},e.prototype.handleCloseEvent=function(n){var o=ie.getCloseAction(n),c=ie.getCloseError(n);c&&this.emit("error",c),o&&this.emit(o,{action:o,error:c})},e}(me),or=zt,di=function(){function t(e,n){this.transport=e,this.callback=n,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var e=this;this.onMessage=function(n){e.unbindListeners();var o;try{o=ie.processHandshake(n)}catch(c){e.finish("error",{error:c}),e.transport.close();return}o.action==="connected"?e.finish("connected",{connection:new or(o.id,e.transport),activityTimeout:o.activityTimeout}):(e.finish(o.action,{error:o.error}),e.transport.close())},this.onClosed=function(n){e.unbindListeners();var o=ie.getCloseAction(n)||"backoff",c=ie.getCloseError(n);e.finish(o,{error:c})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(e,n){this.callback(Y({transport:this.transport,action:e},n))},t}(),vi=di,mi=function(){function t(e,n){this.timeline=e,this.options=n||{}}return t.prototype.send=function(e,n){this.timeline.isEmpty()||this.timeline.send(I.TimelineTransport.getAgent(this,e),n)},t}(),yi=mi,gi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),_i=function(t){gi(e,t);function e(n,o){var c=t.call(this,function(l,d){q.debug("No callbacks on "+n+" for "+l)})||this;return c.name=n,c.pusher=o,c.subscribed=!1,c.subscriptionPending=!1,c.subscriptionCancelled=!1,c}return e.prototype.authorize=function(n,o){return o(null,{auth:""})},e.prototype.trigger=function(n,o){if(n.indexOf("client-")!==0)throw new x("Event '"+n+"' does not start with 'client-'");if(!this.subscribed){var c=b.buildLogSuffix("triggeringClientEvents");q.warn("Client event triggered before channel 'subscription_succeeded' event . "+c)}return this.pusher.send_event(n,o,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(n){var o=n.event,c=n.data;if(o==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(n);else if(o==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(n);else if(o.indexOf("pusher_internal:")!==0){var l={};this.emit(o,c,l)}},e.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",n.data)},e.prototype.handleSubscriptionCountEvent=function(n){n.data.subscription_count&&(this.subscriptionCount=n.data.subscription_count),this.emit("pusher:subscription_count",n.data)},e.prototype.subscribe=function(){var n=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(o,c){o?(n.subscriptionPending=!1,q.error(o.toString()),n.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:o.message},o instanceof de?{status:o.status}:{}))):n.pusher.send_event("pusher:subscribe",{auth:c.auth,channel_data:c.channel_data,channel:n.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(me),gn=_i,bi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),wi=function(t){bi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.authorize=function(n,o){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:n},o)},e}(gn),_n=wi,Si=function(){function t(){this.reset()}return t.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},t.prototype.each=function(e){var n=this;ne(this.members,function(o,c){e(n.get(c))})},t.prototype.setMyID=function(e){this.myID=e},t.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(e){return this.get(e.user_id)===null&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},t.prototype.removeMember=function(e){var n=this.get(e.user_id);return n&&(delete this.members[e.user_id],this.count--),n},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}(),Ti=Si,Ei=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ki=function(t,e,n,o){function c(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function T(j){try{A(o.next(j))}catch(G){d(G)}}function L(j){try{A(o.throw(j))}catch(G){d(G)}}function A(j){j.done?l(j.value):c(j.value).then(T,L)}A((o=o.apply(t,e||[])).next())})},Ci=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,c,l,d;return d={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function T(A){return function(j){return L([A,j])}}function L(A){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,c&&(l=A[0]&2?c.return:A[0]?c.throw||((l=c.return)&&l.call(c),0):c.next)&&!(l=l.call(c,A[1])).done)return l;switch(c=0,l&&(A=[A[0]&2,l.value]),A[0]){case 0:case 1:l=A;break;case 4:return n.label++,{value:A[1],done:!1};case 5:n.label++,c=A[1],A=[0];continue;case 7:A=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(A[0]===6||A[0]===2)){n=0;continue}if(A[0]===3&&(!l||A[1]>l[0]&&A[1]<l[3])){n.label=A[1];break}if(A[0]===6&&n.label<l[1]){n.label=l[1],l=A;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(A);break}l[2]&&n.ops.pop(),n.trys.pop();continue}A=e.call(t,n)}catch(j){A=[6,j],c=0}finally{o=l=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Ai=function(t){Ei(e,t);function e(n,o){var c=t.call(this,n,o)||this;return c.members=new Ti,c}return e.prototype.authorize=function(n,o){var c=this;t.prototype.authorize.call(this,n,function(l,d){return ki(c,void 0,void 0,function(){var T,L;return Ci(this,function(A){switch(A.label){case 0:return l?[3,3]:(d=d,d.channel_data==null?[3,1]:(T=JSON.parse(d.channel_data),this.members.setMyID(T.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(A.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return L=b.buildLogSuffix("authorizationEndpoint"),q.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+L+", ")+"or the user should be signed in."),o("Invalid auth response"),[2];A.label=3;case 3:return o(l,d),[2]}})})})},e.prototype.handleEvent=function(n){var o=n.event;if(o.indexOf("pusher_internal:")===0)this.handleInternalEvent(n);else{var c=n.data,l={};n.user_id&&(l.user_id=n.user_id),this.emit(o,c,l)}},e.prototype.handleInternalEvent=function(n){var o=n.event,c=n.data;switch(o){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(n);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(n);break;case"pusher_internal:member_added":var l=this.members.addMember(c);this.emit("pusher:member_added",l);break;case"pusher_internal:member_removed":var d=this.members.removeMember(c);d&&this.emit("pusher:member_removed",d);break}},e.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(n.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(_n),Oi=Ai,Ri=u(1),bn=u(0),Pi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),xi=function(t){Pi(e,t);function e(n,o,c){var l=t.call(this,n,o)||this;return l.key=null,l.nacl=c,l}return e.prototype.authorize=function(n,o){var c=this;t.prototype.authorize.call(this,n,function(l,d){if(l){o(l,d);return}var T=d.shared_secret;if(!T){o(new Error("No shared_secret key in auth payload for encrypted channel: "+c.name),null);return}c.key=Object(bn.decode)(T),delete d.shared_secret,o(null,d)})},e.prototype.trigger=function(n,o){throw new ce("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(n){var o=n.event,c=n.data;if(o.indexOf("pusher_internal:")===0||o.indexOf("pusher:")===0){t.prototype.handleEvent.call(this,n);return}this.handleEncryptedEvent(o,c)},e.prototype.handleEncryptedEvent=function(n,o){var c=this;if(!this.key){q.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!o.ciphertext||!o.nonce){q.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+o);return}var l=Object(bn.decode)(o.ciphertext);if(l.length<this.nacl.secretbox.overheadLength){q.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+l.length);return}var d=Object(bn.decode)(o.nonce);if(d.length<this.nacl.secretbox.nonceLength){q.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+d.length);return}var T=this.nacl.secretbox.open(l,d,this.key);if(T===null){q.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(L,A){if(L){q.error("Failed to make a request to the authEndpoint: "+A+". Unable to fetch new key, so dropping encrypted event");return}if(T=c.nacl.secretbox.open(l,d,c.key),T===null){q.error("Failed to decrypt event with new key. Dropping encrypted event");return}c.emit(n,c.getDataToEmit(T))});return}this.emit(n,this.getDataToEmit(T))},e.prototype.getDataToEmit=function(n){var o=Object(Ri.decode)(n);try{return JSON.parse(o)}catch{return o}},e}(_n),Li=xi,Ni=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ii=function(t){Ni(e,t);function e(n,o){var c=t.call(this)||this;c.state="initialized",c.connection=null,c.key=n,c.options=o,c.timeline=c.options.timeline,c.usingTLS=c.options.useTLS,c.errorCallbacks=c.buildErrorCallbacks(),c.connectionCallbacks=c.buildConnectionCallbacks(c.errorCallbacks),c.handshakeCallbacks=c.buildHandshakeCallbacks(c.errorCallbacks);var l=I.getNetwork();return l.bind("online",function(){c.timeline.info({netinfo:"online"}),(c.state==="connecting"||c.state==="unavailable")&&c.retryIn(0)}),l.bind("offline",function(){c.timeline.info({netinfo:"offline"}),c.connection&&c.sendActivityCheck()}),c.updateStrategy(),c}return e.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},e.prototype.send=function(n){return this.connection?this.connection.send(n):!1},e.prototype.send_event=function(n,o,c){return this.connection?this.connection.send_event(n,o,c):!1},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var n=this,o=function(c,l){c?n.runner=n.strategy.connect(0,o):l.action==="error"?(n.emit("error",{type:"HandshakeError",error:l.error}),n.timeline.error({handshakeError:l.error})):(n.abortConnecting(),n.handshakeCallbacks[l.action](l))};this.runner=this.strategy.connect(0,o)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var n=this.abandonConnection();n.close()}},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(n){var o=this;this.timeline.info({action:"retry",delay:n}),n>0&&this.emit("connecting_in",Math.round(n/1e3)),this.retryTimer=new B(n||0,function(){o.disconnectInternally(),o.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var n=this;this.unavailableTimer=new B(this.options.unavailableTimeout,function(){n.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new B(this.options.pongTimeout,function(){n.timeline.error({pong_timed_out:n.options.pongTimeout}),n.retryIn(0)})},e.prototype.resetActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new B(this.activityTimeout,function(){n.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(n){var o=this;return Y({},n,{message:function(c){o.resetActivityCheck(),o.emit("message",c)},ping:function(){o.send_event("pusher:pong",{})},activity:function(){o.resetActivityCheck()},error:function(c){o.emit("error",c)},closed:function(){o.abandonConnection(),o.shouldRetry()&&o.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(n){var o=this;return Y({},n,{connected:function(c){o.activityTimeout=Math.min(o.options.activityTimeout,c.activityTimeout,c.connection.activityTimeout||1/0),o.clearUnavailableTimer(),o.setConnection(c.connection),o.socket_id=o.connection.id,o.updateState("connected",{socket_id:o.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var n=this,o=function(c){return function(l){l.error&&n.emit("error",{type:"WebSocketError",error:l.error}),c(l)}};return{tls_only:o(function(){n.usingTLS=!0,n.updateStrategy(),n.retryIn(0)}),refused:o(function(){n.disconnect()}),backoff:o(function(){n.retryIn(1e3)}),retry:o(function(){n.retryIn(0)})}},e.prototype.setConnection=function(n){this.connection=n;for(var o in this.connectionCallbacks)this.connection.bind(o,this.connectionCallbacks[o]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var n in this.connectionCallbacks)this.connection.unbind(n,this.connectionCallbacks[n]);var o=this.connection;return this.connection=null,o}},e.prototype.updateState=function(n,o){var c=this.state;if(this.state=n,c!==n){var l=n;l==="connected"&&(l+=" with new socket ID "+o.socket_id),q.debug("State changed",c+" -> "+l),this.timeline.info({state:n,params:o}),this.emit("state_change",{previous:c,current:n}),this.emit(n,o)}},e.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},e}(me),Di=Ii,Mi=function(){function t(){this.channels={}}return t.prototype.add=function(e,n){return this.channels[e]||(this.channels[e]=Ui(e,n)),this.channels[e]},t.prototype.all=function(){return lt(this.channels)},t.prototype.find=function(e){return this.channels[e]},t.prototype.remove=function(e){var n=this.channels[e];return delete this.channels[e],n},t.prototype.disconnect=function(){ne(this.channels,function(e){e.disconnect()})},t}(),ji=Mi;function Ui(t,e){if(t.indexOf("private-encrypted-")===0){if(e.config.nacl)return Le.createEncryptedChannel(t,e,e.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",o=b.buildLogSuffix("encryptedChannelSupport");throw new ce(n+". "+o)}else{if(t.indexOf("private-")===0)return Le.createPrivateChannel(t,e);if(t.indexOf("presence-")===0)return Le.createPresenceChannel(t,e);if(t.indexOf("#")===0)throw new M('Cannot create a channel with name "'+t+'".');return Le.createChannel(t,e)}}var Fi={createChannels:function(){return new ji},createConnectionManager:function(t,e){return new Di(t,e)},createChannel:function(t,e){return new gn(t,e)},createPrivateChannel:function(t,e){return new _n(t,e)},createPresenceChannel:function(t,e){return new Oi(t,e)},createEncryptedChannel:function(t,e,n){return new Li(t,e,n)},createTimelineSender:function(t,e){return new yi(t,e)},createHandshake:function(t,e){return new vi(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new Q(t,e,n)}},Le=Fi,Hi=function(){function t(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(e){return Le.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}(),sr=Hi,Bi=function(){function t(e,n){this.strategies=e,this.loop=!!n.loop,this.failFast=!!n.failFast,this.timeout=n.timeout,this.timeoutLimit=n.timeoutLimit}return t.prototype.isSupported=function(){return Nt(this.strategies,J.method("isSupported"))},t.prototype.connect=function(e,n){var o=this,c=this.strategies,l=0,d=this.timeout,T=null,L=function(A,j){j?n(null,j):(l=l+1,o.loop&&(l=l%c.length),l<c.length?(d&&(d=d*2,o.timeoutLimit&&(d=Math.min(d,o.timeoutLimit))),T=o.tryStrategy(c[l],e,{timeout:d,failFast:o.failFast},L)):n(!0))};return T=this.tryStrategy(c[l],e,{timeout:d,failFast:this.failFast},L),{abort:function(){T.abort()},forceMinPriority:function(A){e=A,T&&T.forceMinPriority(A)}}},t.prototype.tryStrategy=function(e,n,o,c){var l=null,d=null;return o.timeout>0&&(l=new B(o.timeout,function(){d.abort(),c(!0)})),d=e.connect(n,function(T,L){T&&l&&l.isRunning()&&!o.failFast||(l&&l.ensureAborted(),c(T,L))}),{abort:function(){l&&l.ensureAborted(),d.abort()},forceMinPriority:function(T){d.forceMinPriority(T)}}},t}(),Xe=Bi,qi=function(){function t(e){this.strategies=e}return t.prototype.isSupported=function(){return Nt(this.strategies,J.method("isSupported"))},t.prototype.connect=function(e,n){return zi(this.strategies,e,function(o,c){return function(l,d){if(c[o].error=l,l){Wi(c)&&n(!0);return}Pe(c,function(T){T.forceMinPriority(d.transport.priority)}),n(null,d)}})},t}(),wn=qi;function zi(t,e,n){var o=xe(t,function(c,l,d,T){return c.connect(e,n(l,T))});return{abort:function(){Pe(o,$i)},forceMinPriority:function(c){Pe(o,function(l){l.forceMinPriority(c)})}}}function Wi(t){return ft(t,function(e){return!!e.error})}function $i(t){!t.error&&!t.aborted&&(t.abort(),t.aborted=!0)}var Gi=function(){function t(e,n,o){this.strategy=e,this.transports=n,this.ttl=o.ttl||1800*1e3,this.usingTLS=o.useTLS,this.timeline=o.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var o=this.usingTLS,c=Ji(o),l=[this.strategy];if(c&&c.timestamp+this.ttl>=J.now()){var d=this.transports[c.transport];d&&(this.timeline.info({cached:!0,transport:c.transport,latency:c.latency}),l.push(new Xe([d],{timeout:c.latency*2+1e3,failFast:!0})))}var T=J.now(),L=l.pop().connect(e,function A(j,G){j?(ar(o),l.length>0?(T=J.now(),L=l.pop().connect(e,A)):n(j)):(Vi(o,G.transport.name,J.now()-T),n(null,G))});return{abort:function(){L.abort()},forceMinPriority:function(A){e=A,L&&L.forceMinPriority(A)}}},t}(),Xi=Gi;function Sn(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function Ji(t){var e=I.getLocalStorage();if(e)try{var n=e[Sn(t)];if(n)return JSON.parse(n)}catch{ar(t)}return null}function Vi(t,e,n){var o=I.getLocalStorage();if(o)try{o[Sn(t)]=ze({timestamp:J.now(),transport:e,latency:n})}catch{}}function ar(t){var e=I.getLocalStorage();if(e)try{delete e[Sn(t)]}catch{}}var Ki=function(){function t(e,n){var o=n.delay;this.strategy=e,this.options={delay:o}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var o=this.strategy,c,l=new B(this.options.delay,function(){c=o.connect(e,n)});return{abort:function(){l.ensureAborted(),c&&c.abort()},forceMinPriority:function(d){e=d,c&&c.forceMinPriority(d)}}},t}(),Wt=Ki,Yi=function(){function t(e,n,o){this.test=e,this.trueBranch=n,this.falseBranch=o}return t.prototype.isSupported=function(){var e=this.test()?this.trueBranch:this.falseBranch;return e.isSupported()},t.prototype.connect=function(e,n){var o=this.test()?this.trueBranch:this.falseBranch;return o.connect(e,n)},t}(),St=Yi,Qi=function(){function t(e){this.strategy=e}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var o=this.strategy.connect(e,function(c,l){l&&o.abort(),n(c,l)});return o},t}(),Zi=Qi;function Tt(t){return function(){return t.isSupported()}}var eo=function(t,e,n){var o={};function c(_r,hs,fs,ps,ds){var br=n(t,_r,hs,fs,ps,ds);return o[_r]=br,br}var l=Object.assign({},e,{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}),d=Object.assign({},l,{useTLS:!0}),T=Object.assign({},e,{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}),L={loop:!0,timeout:15e3,timeoutLimit:6e4},A=new sr({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),j=new sr({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),G=c("ws","ws",3,l,A),Ce=c("wss","ws",3,d,A),ss=c("sockjs","sockjs",1,T),pr=c("xhr_streaming","xhr_streaming",1,T,j),as=c("xdr_streaming","xdr_streaming",1,T,j),dr=c("xhr_polling","xhr_polling",1,T),cs=c("xdr_polling","xdr_polling",1,T),vr=new Xe([G],L),us=new Xe([Ce],L),ls=new Xe([ss],L),mr=new Xe([new St(Tt(pr),pr,as)],L),yr=new Xe([new St(Tt(dr),dr,cs)],L),gr=new Xe([new St(Tt(mr),new wn([mr,new Wt(yr,{delay:4e3})]),yr)],L),Cn=new St(Tt(gr),gr,ls),An;return e.useTLS?An=new wn([vr,new Wt(Cn,{delay:2e3})]):An=new wn([vr,new Wt(us,{delay:2e3}),new Wt(Cn,{delay:5e3})]),new Xi(new Zi(new St(Tt(G),An,Cn)),o,{ttl:18e5,timeline:e.timeline,useTLS:e.useTLS})},to=eo,no=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),R.load(t.hooks.file,{useTLS:t.options.useTLS},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()},ro={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new F),t.close()},e.onerror=function(n){t.emit("error",n),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}},oo=ro,so=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ao=256*1024,co=function(t){so(e,t);function e(n,o,c){var l=t.call(this)||this;return l.hooks=n,l.method=o,l.url=c,l}return e.prototype.start=function(n){var o=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){o.close()},I.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(n)},e.prototype.close=function(){this.unloader&&(I.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(n,o){for(;;){var c=this.advanceBuffer(o);if(c)this.emit("chunk",{status:n,data:c});else break}this.isBufferTooLong(o)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(n){var o=n.slice(this.position),c=o.indexOf(`
`);return c!==-1?(this.position+=c+1,o.slice(0,c)):null},e.prototype.isBufferTooLong=function(n){return this.position===n.length&&n.length>ao},e}(me),uo=co,Tn;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"})(Tn||(Tn={}));var Je=Tn,lo=1,ho=function(){function t(e,n){this.hooks=e,this.session=ur(1e3)+"/"+mo(8),this.location=fo(n),this.readyState=Je.CONNECTING,this.openStream()}return t.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(e,n){this.onClose(e,n,!0)},t.prototype.sendRaw=function(e){if(this.readyState===Je.OPEN)try{return I.createSocketRequest("POST",cr(po(this.location,this.session))).start(e),!0}catch{return!1}else return!1},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(e,n,o){this.closeStream(),this.readyState=Je.CLOSED,this.onclose&&this.onclose({code:e,reason:n,wasClean:o})},t.prototype.onChunk=function(e){if(e.status===200){this.readyState===Je.OPEN&&this.onActivity();var n,o=e.data.slice(0,1);switch(o){case"o":n=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(n);break;case"a":n=JSON.parse(e.data.slice(1)||"[]");for(var c=0;c<n.length;c++)this.onEvent(n[c]);break;case"m":n=JSON.parse(e.data.slice(1)||"null"),this.onEvent(n);break;case"h":this.hooks.onHeartbeat(this);break;case"c":n=JSON.parse(e.data.slice(1)||"[]"),this.onClose(n[0],n[1],!0);break}}},t.prototype.onOpen=function(e){this.readyState===Je.CONNECTING?(e&&e.hostname&&(this.location.base=vo(this.location.base,e.hostname)),this.readyState=Je.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(e){this.readyState===Je.OPEN&&this.onmessage&&this.onmessage({data:e})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(e){this.onerror&&this.onerror(e)},t.prototype.openStream=function(){var e=this;this.stream=I.createSocketRequest("POST",cr(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(n){e.onChunk(n)}),this.stream.bind("finished",function(n){e.hooks.onFinished(e,n)}),this.stream.bind("buffer_too_long",function(){e.reconnect()});try{this.stream.start()}catch(n){J.defer(function(){e.onError(n),e.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();function fo(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}function po(t,e){return t.base+"/"+e+"/xhr_send"}function cr(t){var e=t.indexOf("?")===-1?"?":"&";return t+e+"t="+ +new Date+"&n="+lo++}function vo(t,e){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return n[1]+e+n[3]}function ur(t){return I.randomInt(t)}function mo(t){for(var e=[],n=0;n<t;n++)e.push(ur(32).toString(32));return e.join("")}var yo=ho,go={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},_o=go,bo={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){e===200?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},wo=bo,So={getRequest:function(t){var e=I.getXHRAPI(),n=new e;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText),t.emit("finished",n.status),t.close();break}},n},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},To=So,Eo={createStreamingSocket:function(t){return this.createSocket(_o,t)},createPollingSocket:function(t){return this.createSocket(wo,t)},createSocket:function(t,e){return new yo(t,e)},createXHR:function(t,e){return this.createRequest(To,t,e)},createRequest:function(t,e,n){return new uo(t,e,n)}},lr=Eo;lr.createXDR=function(t,e){return this.createRequest(oo,t,e)};var ko=lr,Co={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:f,DependenciesReceivers:y,getDefaultStrategy:to,Transports:w,transportConnectionInitializer:no,HTTPFactory:ko,TimelineTransport:pn,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():R.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:ve,jsonp:Dt}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new je(t,e)},createScriptRequest:function(t){return new Qe(t)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var t=this.getXHRAPI();return new t},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return V},createWebSocket:function(t){var e=this.getWebSocketAPI();return new e(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(e.indexOf("https:")===0))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return!!t&&new t().withCredentials!==void 0},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return!!window.XDomainRequest&&n===e},addUnloadListener:function(t){window.addEventListener!==void 0?window.addEventListener("unload",t,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){window.addEventListener!==void 0?window.removeEventListener("unload",t,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",t)},randomInt:function(t){var e=function(){var n=window.crypto||window.msCrypto,o=n.getRandomValues(new Uint32Array(1))[0];return o/Math.pow(2,32)};return Math.floor(e()*t)}},I=Co,En;(function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"})(En||(En={}));var $t=En,Ao=function(){function t(e,n,o){this.key=e,this.session=n,this.events=[],this.options=o||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(e,n){e<=this.options.level&&(this.events.push(Y({},n,{timestamp:J.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(e){this.log($t.ERROR,e)},t.prototype.info=function(e){this.log($t.INFO,e)},t.prototype.debug=function(e){this.log($t.DEBUG,e)},t.prototype.isEmpty=function(){return this.events.length===0},t.prototype.send=function(e,n){var o=this,c=Y({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(c,function(l,d){l||o.sent++,n&&n(l,d)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}(),Oo=Ao,Ro=function(){function t(e,n,o,c){this.name=e,this.priority=n,this.transport=o,this.options=c||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(e,n){var o=this;if(this.isSupported()){if(this.priority<e)return hr(new K,n)}else return hr(new ue,n);var c=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),d=null,T=function(){l.unbind("initialized",T),l.connect()},L=function(){d=Le.createHandshake(l,function(Ce){c=!0,G(),n(null,Ce)})},A=function(Ce){G(),n(Ce)},j=function(){G();var Ce;Ce=ze(l),n(new te(Ce))},G=function(){l.unbind("initialized",T),l.unbind("open",L),l.unbind("error",A),l.unbind("closed",j)};return l.bind("initialized",T),l.bind("open",L),l.bind("error",A),l.bind("closed",j),l.initialize(),{abort:function(){c||(G(),d?d.close():l.close())},forceMinPriority:function(Ce){c||o.priority<Ce&&(d?d.close():l.close())}}},t}(),Po=Ro;function hr(t,e){return J.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var xo=I.Transports,Lo=function(t,e,n,o,c,l){var d=xo[n];if(!d)throw new pe(n);var T=(!t.enabledTransports||ut(t.enabledTransports,e)!==-1)&&(!t.disabledTransports||ut(t.disabledTransports,e)===-1),L;return T?(c=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},c),L=new Po(e,o,l?l.getAssistant(d):d,c)):L=No,L},No={isSupported:function(){return!1},connect:function(t,e){var n=J.defer(function(){e(new ue)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function Io(t){if(t==null)throw"You must pass an options object";if(t.cluster==null)throw"Options object must provide a cluster";"disableStats"in t&&q.warn("The disableStats option is deprecated in favor of enableStats")}var Do=function(t,e){var n="socket_id="+encodeURIComponent(t.socketId);for(var o in e.params)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e.params[o]);if(e.paramsProvider!=null){var c=e.paramsProvider();for(var o in c)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(c[o])}return n},Mo=function(t){if(typeof I.getAuthorizers()[t.transport]>"u")throw"'"+t.transport+"' is not a recognized auth transport";return function(e,n){var o=Do(e,t);I.getAuthorizers()[t.transport](I,o,t,g.UserAuthentication,n)}},jo=Mo,Uo=function(t,e){var n="socket_id="+encodeURIComponent(t.socketId);n+="&channel_name="+encodeURIComponent(t.channelName);for(var o in e.params)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e.params[o]);if(e.paramsProvider!=null){var c=e.paramsProvider();for(var o in c)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(c[o])}return n},Fo=function(t){if(typeof I.getAuthorizers()[t.transport]>"u")throw"'"+t.transport+"' is not a recognized auth transport";return function(e,n){var o=Uo(e,t);I.getAuthorizers()[t.transport](I,o,t,g.ChannelAuthorization,n)}},Ho=Fo,Bo=function(t,e,n){var o={authTransport:e.transport,authEndpoint:e.endpoint,auth:{params:e.params,headers:e.headers}};return function(c,l){var d=t.channel(c.channelName),T=n(d,o);T.authorize(c.socketId,l)}},et=function(){return et=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c])}return t},et.apply(this,arguments)};function qo(t,e){var n={activityTimeout:t.activityTimeout||_.activityTimeout,cluster:t.cluster,httpPath:t.httpPath||_.httpPath,httpPort:t.httpPort||_.httpPort,httpsPort:t.httpsPort||_.httpsPort,pongTimeout:t.pongTimeout||_.pongTimeout,statsHost:t.statsHost||_.stats_host,unavailableTimeout:t.unavailableTimeout||_.unavailableTimeout,wsPath:t.wsPath||_.wsPath,wsPort:t.wsPort||_.wsPort,wssPort:t.wssPort||_.wssPort,enableStats:Xo(t),httpHost:zo(t),useTLS:Go(t),wsHost:Wo(t),userAuthenticator:Jo(t),channelAuthorizer:Ko(t,e)};return"disabledTransports"in t&&(n.disabledTransports=t.disabledTransports),"enabledTransports"in t&&(n.enabledTransports=t.enabledTransports),"ignoreNullOrigin"in t&&(n.ignoreNullOrigin=t.ignoreNullOrigin),"timelineParams"in t&&(n.timelineParams=t.timelineParams),"nacl"in t&&(n.nacl=t.nacl),n}function zo(t){return t.httpHost?t.httpHost:t.cluster?"sockjs-"+t.cluster+".pusher.com":_.httpHost}function Wo(t){return t.wsHost?t.wsHost:$o(t.cluster)}function $o(t){return"ws-"+t+".pusher.com"}function Go(t){return I.getProtocol()==="https:"?!0:t.forceTLS!==!1}function Xo(t){return"enableStats"in t?t.enableStats:"disableStats"in t?!t.disableStats:!1}function Jo(t){var e=et(et({},_.userAuthentication),t.userAuthentication);return"customHandler"in e&&e.customHandler!=null?e.customHandler:jo(e)}function Vo(t,e){var n;return"channelAuthorization"in t?n=et(et({},_.channelAuthorization),t.channelAuthorization):(n={transport:t.authTransport||_.authTransport,endpoint:t.authEndpoint||_.authEndpoint},"auth"in t&&("params"in t.auth&&(n.params=t.auth.params),"headers"in t.auth&&(n.headers=t.auth.headers)),"authorizer"in t&&(n.customHandler=Bo(e,n,t.authorizer))),n}function Ko(t,e){var n=Vo(t,e);return"customHandler"in n&&n.customHandler!=null?n.customHandler:Ho(n)}var Yo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qo=function(t){Yo(e,t);function e(n){var o=t.call(this,function(c,l){q.debug("No callbacks on watchlist events for "+c)})||this;return o.pusher=n,o.bindWatchlistInternalEvent(),o}return e.prototype.handleEvent=function(n){var o=this;n.data.events.forEach(function(c){o.emit(c.name,c)})},e.prototype.bindWatchlistInternalEvent=function(){var n=this;this.pusher.connection.bind("message",function(o){var c=o.event;c==="pusher_internal:watchlist_events"&&n.handleEvent(o)})},e}(me),Zo=Qo;function es(){var t,e,n=new Promise(function(o,c){t=o,e=c});return{promise:n,resolve:t,reject:e}}var ts=es,ns=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),rs=function(t){ns(e,t);function e(n){var o=t.call(this,function(c,l){q.debug("No callbacks on user for "+c)})||this;return o.signin_requested=!1,o.user_data=null,o.serverToUserChannel=null,o.signinDonePromise=null,o._signinDoneResolve=null,o._onAuthorize=function(c,l){if(c){q.warn("Error during signin: "+c),o._cleanup();return}o.pusher.send_event("pusher:signin",{auth:l.auth,user_data:l.user_data})},o.pusher=n,o.pusher.connection.bind("state_change",function(c){var l=c.previous,d=c.current;l!=="connected"&&d==="connected"&&o._signin(),l==="connected"&&d!=="connected"&&(o._cleanup(),o._newSigninPromiseIfNeeded())}),o.watchlist=new Zo(n),o.pusher.connection.bind("message",function(c){var l=c.event;l==="pusher:signin_success"&&o._onSigninSuccess(c.data),o.serverToUserChannel&&o.serverToUserChannel.name===c.channel&&o.serverToUserChannel.handleEvent(c)}),o}return e.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},e.prototype._signin=function(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},e.prototype._onSigninSuccess=function(n){try{this.user_data=JSON.parse(n.user_data)}catch{q.error("Failed parsing user data after signin: "+n.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){q.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},e.prototype._subscribeChannels=function(){var n=this,o=function(c){c.subscriptionPending&&c.subscriptionCancelled?c.reinstateSubscription():!c.subscriptionPending&&n.pusher.connection.state==="connected"&&c.subscribe()};this.serverToUserChannel=new gn("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(c,l){c.indexOf("pusher_internal:")===0||c.indexOf("pusher:")===0||n.emit(c,l)}),o(this.serverToUserChannel)},e.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},e.prototype._newSigninPromiseIfNeeded=function(){if(this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var n=ts(),o=n.promise,c=n.resolve;o.done=!1;var l=function(){o.done=!0};o.then(l).catch(l),this.signinDonePromise=o,this._signinDoneResolve=c}},e}(me),is=rs,fr=function(){function t(e,n){var o=this;os(e),Io(n),this.key=e,this.config=qo(n,this),this.channels=Le.createChannels(),this.global_emitter=new me,this.sessionID=I.randomInt(1e9),this.timeline=new Oo(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:$t.INFO,version:_.VERSION}),this.config.enableStats&&(this.timelineSender=Le.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+I.TimelineTransport.name}));var c=function(l){return I.getDefaultStrategy(o.config,l,Lo)};this.connection=Le.createConnectionManager(this.key,{getStrategy:c,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",function(){o.subscribeAll(),o.timelineSender&&o.timelineSender.send(o.connection.isUsingTLS())}),this.connection.bind("message",function(l){var d=l.event,T=d.indexOf("pusher_internal:")===0;if(l.channel){var L=o.channel(l.channel);L&&L.handleEvent(l)}T||o.global_emitter.emit(l.event,l.data)}),this.connection.bind("connecting",function(){o.channels.disconnect()}),this.connection.bind("disconnected",function(){o.channels.disconnect()}),this.connection.bind("error",function(l){q.warn(l)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),this.user=new is(this),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.getClientFeatures=function(){return ke(ht({ws:I.Transports.ws},function(e){return e.isSupported({})}))},t.prototype.channel=function(e){return this.channels.find(e)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),n=this.timelineSender;this.timelineSenderTimer=new He(6e4,function(){n.send(e)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(e,n,o){return this.global_emitter.bind(e,n,o),this},t.prototype.unbind=function(e,n,o){return this.global_emitter.unbind(e,n,o),this},t.prototype.bind_global=function(e){return this.global_emitter.bind_global(e),this},t.prototype.unbind_global=function(e){return this.global_emitter.unbind_global(e),this},t.prototype.unbind_all=function(e){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},t.prototype.subscribe=function(e){var n=this.channels.add(e,this);return n.subscriptionPending&&n.subscriptionCancelled?n.reinstateSubscription():!n.subscriptionPending&&this.connection.state==="connected"&&n.subscribe(),n},t.prototype.unsubscribe=function(e){var n=this.channels.find(e);n&&n.subscriptionPending?n.cancelSubscription():(n=this.channels.remove(e),n&&n.subscribed&&n.unsubscribe())},t.prototype.send_event=function(e,n,o){return this.connection.send_event(e,n,o)},t.prototype.shouldUseTLS=function(){return this.config.useTLS},t.prototype.signin=function(){this.user.signin()},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=I,t.ScriptReceivers=I.ScriptReceivers,t.DependenciesReceivers=I.DependenciesReceivers,t.auth_callbacks=I.auth_callbacks,t}(),kn=a.default=fr;function os(t){if(t==null)throw"You must pass your app key when you instantiate Pusher."}I.setup(fr)}])})})(li);var Ga=li.exports;const Xa=$a(Ga);window.axios=La;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Pusher=Xa;window.Echo=new Wa({broadcaster:"pusher",key:{}.VITE_PUSHER_APP_KEY,cluster:{}.VITE_PUSHER_APP_CLUSTER??"mt1",wsHost:{}.VITE_PUSHER_HOST?{}.VITE_PUSHER_HOST:`ws-${{}.VITE_PUSHER_APP_CLUSTER}.pusher.com`,wsPort:{}.VITE_PUSHER_PORT??80,wssPort:{}.VITE_PUSHER_PORT??443,forceTLS:({}.VITE_PUSHER_SCHEME??"https")==="https",enabledTransports:["ws","wss"]});/*! @license DOMPurify 3.0.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.1/LICENSE */function Ve(r){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ve(r)}function Gn(r,i){return Gn=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},Gn(r,i)}function Ja(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yt(r,i,s){return Ja()?Yt=Reflect.construct:Yt=function(u,h,f){var v=[null];v.push.apply(v,h);var _=Function.bind.apply(u,v),O=new _;return f&&Gn(O,f.prototype),O},Yt.apply(null,arguments)}function Va(r,i){return Ya(r)||Za(r,i)||ir(r,i)||tc()}function Te(r){return Ka(r)||Qa(r)||ir(r)||ec()}function Ka(r){if(Array.isArray(r))return Xn(r)}function Ya(r){if(Array.isArray(r))return r}function Qa(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Za(r,i){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var a=[],u=!0,h=!1,f,v;try{for(s=s.call(r);!(u=(f=s.next()).done)&&(a.push(f.value),!(i&&a.length===i));u=!0);}catch(_){h=!0,v=_}finally{try{!u&&s.return!=null&&s.return()}finally{if(h)throw v}}return a}}function ir(r,i){if(r){if(typeof r=="string")return Xn(r,i);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Xn(r,i)}}function Xn(r,i){(i==null||i>r.length)&&(i=r.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=r[s];return a}function ec(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nc(r,i){var s=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!s){if(Array.isArray(r)||(s=ir(r))||i&&r&&typeof r.length=="number"){s&&(r=s);var a=0,u=function(){};return{s:u,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(_){throw _},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,f=!1,v;return{s:function(){s=s.call(r)},n:function(){var _=s.next();return h=_.done,_},e:function(_){f=!0,v=_},f:function(){try{!h&&s.return!=null&&s.return()}finally{if(f)throw v}}}}var hi=Object.entries,Ir=Object.setPrototypeOf,rc=Object.isFrozen,ic=Object.getPrototypeOf,oc=Object.getOwnPropertyDescriptor,oe=Object.freeze,Ee=Object.seal,sc=Object.create,fi=typeof Reflect<"u"&&Reflect,Jn=fi.apply,Vn=fi.construct;Jn||(Jn=function(i,s,a){return i.apply(s,a)});oe||(oe=function(i){return i});Ee||(Ee=function(i){return i});Vn||(Vn=function(i,s){return Yt(i,Te(s))});var ac=ge(Array.prototype.forEach),Dr=ge(Array.prototype.pop),kt=ge(Array.prototype.push),Qt=ge(String.prototype.toLowerCase),Ln=ge(String.prototype.toString),cc=ge(String.prototype.match),Se=ge(String.prototype.replace),uc=ge(String.prototype.indexOf),lc=ge(String.prototype.trim),le=ge(RegExp.prototype.test),Nn=hc(TypeError);function ge(r){return function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return Jn(r,i,a)}}function hc(r){return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return Vn(r,s)}}function D(r,i,s){s=s||Qt,Ir&&Ir(r,null);for(var a=i.length;a--;){var u=i[a];if(typeof u=="string"){var h=s(u);h!==u&&(rc(i)||(i[a]=h),u=h)}r[u]=!0}return r}function tt(r){var i=sc(null),s=nc(hi(r)),a;try{for(s.s();!(a=s.n()).done;){var u=Va(a.value,2),h=u[0],f=u[1];i[h]=f}}catch(v){s.e(v)}finally{s.f()}return i}function Gt(r,i){for(;r!==null;){var s=oc(r,i);if(s){if(s.get)return ge(s.get);if(typeof s.value=="function")return ge(s.value)}r=ic(r)}function a(u){return console.warn("fallback value for",u),null}return a}var Mr=oe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),In=oe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Dn=oe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fc=oe(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Mn=oe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),pc=oe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jr=oe(["#text"]),Ur=oe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),jn=oe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fr=oe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xt=oe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dc=Ee(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vc=Ee(/<%[\w\W]*|[\w\W]*%>/gm),mc=Ee(/\${[\w\W]*}/gm),yc=Ee(/^data-[\-\w.\u00B7-\uFFFF]/),gc=Ee(/^aria-[\-\w]+$/),_c=Ee(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bc=Ee(/^(?:\w+script|data):/i),wc=Ee(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sc=Ee(/^html$/i),Tc=function(){return typeof window>"u"?null:window},Ec=function(i,s){if(Ve(i)!=="object"||typeof i.createPolicy!="function")return null;var a=null,u="data-tt-policy-suffix";s.currentScript&&s.currentScript.hasAttribute(u)&&(a=s.currentScript.getAttribute(u));var h="dompurify"+(a?"#"+a:"");try{return i.createPolicy(h,{createHTML:function(v){return v},createScriptURL:function(v){return v}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function pi(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tc(),i=function(p){return pi(p)};if(i.version="3.0.1",i.removed=[],!r||!r.document||r.document.nodeType!==9)return i.isSupported=!1,i;var s=r.document,a=r.document,u=r.DocumentFragment,h=r.HTMLTemplateElement,f=r.Node,v=r.Element,_=r.NodeFilter,O=r.NamedNodeMap,E=O===void 0?r.NamedNodeMap||r.MozNamedAttrMap:O,y=r.HTMLFormElement,R=r.DOMParser,P=r.trustedTypes,k=v.prototype,b=Gt(k,"cloneNode"),g=Gt(k,"nextSibling"),S=Gt(k,"childNodes"),x=Gt(k,"parentNode");if(typeof h=="function"){var M=a.createElement("template");M.content&&M.content.ownerDocument&&(a=M.content.ownerDocument)}var F=Ec(P,s),K=F?F.createHTML(""):"",te=a,ce=te.implementation,pe=te.createNodeIterator,ue=te.createDocumentFragment,de=te.getElementsByTagName,un=s.importNode,ve={};i.isSupported=typeof hi=="function"&&typeof x=="function"&&ce&&typeof ce.createHTMLDocument<"u";var ot=dc,Re=vc,Ie=mc,ln=yc,hn=gc,fn=bc,Rt=wc,st=_c,z=null,at=D({},[].concat(Te(Mr),Te(In),Te(Dn),Te(Mn),Te(jr))),W=null,Pt=D({},[].concat(Te(Ur),Te(jn),Te(Fr),Te(Xt))),B=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),He=null,ct=null,J=!0,Y=!0,xt=!1,ut=!0,ne=!1,ke=!1,lt=!1,Pe=!1,xe=!1,Ke=!1,Be=!1,ht=!0,Lt=!1,Nt="user-content-",ft=!0,qe=!1,De={},Me=null,ze=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),It=null,q=D({},["audio","video","img","source","image","track"]),pt=null,Dt=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ye="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",_e="http://www.w3.org/1999/xhtml",je=_e,dt=!1,vt=null,pn=D({},[Ye,Qe,_e],Ln),be,mt=["application/xhtml+xml","text/html"],dn="text/html",$,Ue=null,vn=a.createElement("form"),Mt=function(p){return p instanceof RegExp||p instanceof Function},We=function(p){Ue&&Ue===p||((!p||Ve(p)!=="object")&&(p={}),p=tt(p),be=mt.indexOf(p.PARSER_MEDIA_TYPE)===-1?be=dn:be=p.PARSER_MEDIA_TYPE,$=be==="application/xhtml+xml"?Ln:Qt,z="ALLOWED_TAGS"in p?D({},p.ALLOWED_TAGS,$):at,W="ALLOWED_ATTR"in p?D({},p.ALLOWED_ATTR,$):Pt,vt="ALLOWED_NAMESPACES"in p?D({},p.ALLOWED_NAMESPACES,Ln):pn,pt="ADD_URI_SAFE_ATTR"in p?D(tt(Dt),p.ADD_URI_SAFE_ATTR,$):Dt,It="ADD_DATA_URI_TAGS"in p?D(tt(q),p.ADD_DATA_URI_TAGS,$):q,Me="FORBID_CONTENTS"in p?D({},p.FORBID_CONTENTS,$):ze,He="FORBID_TAGS"in p?D({},p.FORBID_TAGS,$):{},ct="FORBID_ATTR"in p?D({},p.FORBID_ATTR,$):{},De="USE_PROFILES"in p?p.USE_PROFILES:!1,J=p.ALLOW_ARIA_ATTR!==!1,Y=p.ALLOW_DATA_ATTR!==!1,xt=p.ALLOW_UNKNOWN_PROTOCOLS||!1,ut=p.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ne=p.SAFE_FOR_TEMPLATES||!1,ke=p.WHOLE_DOCUMENT||!1,xe=p.RETURN_DOM||!1,Ke=p.RETURN_DOM_FRAGMENT||!1,Be=p.RETURN_TRUSTED_TYPE||!1,Pe=p.FORCE_BODY||!1,ht=p.SANITIZE_DOM!==!1,Lt=p.SANITIZE_NAMED_PROPS||!1,ft=p.KEEP_CONTENT!==!1,qe=p.IN_PLACE||!1,st=p.ALLOWED_URI_REGEXP||st,je=p.NAMESPACE||_e,B=p.CUSTOM_ELEMENT_HANDLING||{},p.CUSTOM_ELEMENT_HANDLING&&Mt(p.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(B.tagNameCheck=p.CUSTOM_ELEMENT_HANDLING.tagNameCheck),p.CUSTOM_ELEMENT_HANDLING&&Mt(p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(B.attributeNameCheck=p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),p.CUSTOM_ELEMENT_HANDLING&&typeof p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(B.allowCustomizedBuiltInElements=p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(Y=!1),Ke&&(xe=!0),De&&(z=D({},Te(jr)),W=[],De.html===!0&&(D(z,Mr),D(W,Ur)),De.svg===!0&&(D(z,In),D(W,jn),D(W,Xt)),De.svgFilters===!0&&(D(z,Dn),D(W,jn),D(W,Xt)),De.mathMl===!0&&(D(z,Mn),D(W,Fr),D(W,Xt))),p.ADD_TAGS&&(z===at&&(z=tt(z)),D(z,p.ADD_TAGS,$)),p.ADD_ATTR&&(W===Pt&&(W=tt(W)),D(W,p.ADD_ATTR,$)),p.ADD_URI_SAFE_ATTR&&D(pt,p.ADD_URI_SAFE_ATTR,$),p.FORBID_CONTENTS&&(Me===ze&&(Me=tt(Me)),D(Me,p.FORBID_CONTENTS,$)),ft&&(z["#text"]=!0),ke&&D(z,["html","head","body"]),z.table&&(D(z,["tbody"]),delete He.tbody),oe&&oe(p),Ue=p)},jt=D({},["mi","mo","mn","ms","mtext"]),me=D({},["foreignobject","desc","title","annotation-xml"]),mn=D({},["title","style","font","a","script"]),Ze=D({},In);D(Ze,Dn),D(Ze,fc);var yt=D({},Mn);D(yt,pc);var yn=function(p){var w=x(p);(!w||!w.tagName)&&(w={namespaceURI:je,tagName:"template"});var C=Qt(p.tagName),H=Qt(w.tagName);return vt[p.namespaceURI]?p.namespaceURI===Qe?w.namespaceURI===_e?C==="svg":w.namespaceURI===Ye?C==="svg"&&(H==="annotation-xml"||jt[H]):!!Ze[C]:p.namespaceURI===Ye?w.namespaceURI===_e?C==="math":w.namespaceURI===Qe?C==="math"&&me[H]:!!yt[C]:p.namespaceURI===_e?w.namespaceURI===Qe&&!me[H]||w.namespaceURI===Ye&&!jt[H]?!1:!yt[C]&&(mn[C]||!Ze[C]):!!(be==="application/xhtml+xml"&&vt[p.namespaceURI]):!1},se=function(p){kt(i.removed,{element:p});try{p.parentNode.removeChild(p)}catch{p.remove()}},gt=function(p,w){try{kt(i.removed,{attribute:w.getAttributeNode(p),from:w})}catch{kt(i.removed,{attribute:null,from:w})}if(w.removeAttribute(p),p==="is"&&!W[p])if(xe||Ke)try{se(w)}catch{}else try{w.setAttribute(p,"")}catch{}},_t=function(p){var w,C;if(Pe)p="<remove></remove>"+p;else{var H=cc(p,/^[\r\n\t ]+/);C=H&&H[0]}be==="application/xhtml+xml"&&je===_e&&(p='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+p+"</body></html>");var V=F?F.createHTML(p):p;if(je===_e)try{w=new R().parseFromString(V,be)}catch{}if(!w||!w.documentElement){w=ce.createDocument(je,"template",null);try{w.documentElement.innerHTML=dt?K:V}catch{}}var ae=w.body||w.documentElement;return p&&C&&ae.insertBefore(a.createTextNode(C),ae.childNodes[0]||null),je===_e?de.call(w,ke?"html":"body")[0]:ke?w.documentElement:ae},bt=function(p){return pe.call(p.ownerDocument||p,p,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT,null,!1)},Ut=function(p){return p instanceof y&&(typeof p.nodeName!="string"||typeof p.textContent!="string"||typeof p.removeChild!="function"||!(p.attributes instanceof E)||typeof p.removeAttribute!="function"||typeof p.setAttribute!="function"||typeof p.namespaceURI!="string"||typeof p.insertBefore!="function"||typeof p.hasChildNodes!="function")},$e=function(p){return Ve(f)==="object"?p instanceof f:p&&Ve(p)==="object"&&typeof p.nodeType=="number"&&typeof p.nodeName=="string"},we=function(p,w,C){ve[p]&&ac(ve[p],function(H){H.call(i,w,C,Ue)})},Ft=function(p){var w;if(we("beforeSanitizeElements",p,null),Ut(p))return se(p),!0;var C=$(p.nodeName);if(we("uponSanitizeElement",p,{tagName:C,allowedTags:z}),p.hasChildNodes()&&!$e(p.firstElementChild)&&(!$e(p.content)||!$e(p.content.firstElementChild))&&le(/<[/\w]/g,p.innerHTML)&&le(/<[/\w]/g,p.textContent))return se(p),!0;if(!z[C]||He[C]){if(!He[C]&&Ge(C)&&(B.tagNameCheck instanceof RegExp&&le(B.tagNameCheck,C)||B.tagNameCheck instanceof Function&&B.tagNameCheck(C)))return!1;if(ft&&!Me[C]){var H=x(p)||p.parentNode,V=S(p)||p.childNodes;if(V&&H)for(var ae=V.length,Q=ae-1;Q>=0;--Q)H.insertBefore(b(V[Q],!0),g(p))}return se(p),!0}return p instanceof v&&!yn(p)||(C==="noscript"||C==="noembed")&&le(/<\/no(script|embed)/i,p.innerHTML)?(se(p),!0):(ne&&p.nodeType===3&&(w=p.textContent,w=Se(w,ot," "),w=Se(w,Re," "),w=Se(w,Ie," "),p.textContent!==w&&(kt(i.removed,{element:p.cloneNode()}),p.textContent=w)),we("afterSanitizeElements",p,null),!1)},Ht=function(p,w,C){if(ht&&(w==="id"||w==="name")&&(C in a||C in vn))return!1;if(!(Y&&!ct[w]&&le(ln,w))){if(!(J&&le(hn,w))){if(!W[w]||ct[w]){if(!(Ge(p)&&(B.tagNameCheck instanceof RegExp&&le(B.tagNameCheck,p)||B.tagNameCheck instanceof Function&&B.tagNameCheck(p))&&(B.attributeNameCheck instanceof RegExp&&le(B.attributeNameCheck,w)||B.attributeNameCheck instanceof Function&&B.attributeNameCheck(w))||w==="is"&&B.allowCustomizedBuiltInElements&&(B.tagNameCheck instanceof RegExp&&le(B.tagNameCheck,C)||B.tagNameCheck instanceof Function&&B.tagNameCheck(C))))return!1}else if(!pt[w]){if(!le(st,Se(C,Rt,""))){if(!((w==="src"||w==="xlink:href"||w==="href")&&p!=="script"&&uc(C,"data:")===0&&It[p])){if(!(xt&&!le(fn,Se(C,Rt,"")))){if(C)return!1}}}}}}return!0},Ge=function(p){return p.indexOf("-")>0},Bt=function(p){var w,C,H,V;we("beforeSanitizeAttributes",p,null);var ae=p.attributes;if(ae){var Q={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W};for(V=ae.length;V--;){w=ae[V];var re=w,ie=re.name,wt=re.namespaceURI;if(C=ie==="value"?w.value:lc(w.value),H=$(ie),Q.attrName=H,Q.attrValue=C,Q.keepAttr=!0,Q.forceKeepAttr=void 0,we("uponSanitizeAttribute",p,Q),C=Q.attrValue,!Q.forceKeepAttr&&(gt(ie,p),!!Q.keepAttr)){if(!ut&&le(/\/>/i,C)){gt(ie,p);continue}ne&&(C=Se(C,ot," "),C=Se(C,Re," "),C=Se(C,Ie," "));var zt=$(p.nodeName);if(Ht(zt,H,C)){if(Lt&&(H==="id"||H==="name")&&(gt(ie,p),C=Nt+C),F&&Ve(P)==="object"&&typeof P.getAttributeType=="function"&&!wt)switch(P.getAttributeType(zt,H)){case"TrustedHTML":C=F.createHTML(C);break;case"TrustedScriptURL":C=F.createScriptURL(C);break}try{wt?p.setAttributeNS(wt,ie,C):p.setAttribute(ie,C),Dr(i.removed)}catch{}}}}we("afterSanitizeAttributes",p,null)}},qt=function N(p){var w,C=bt(p);for(we("beforeSanitizeShadowDOM",p,null);w=C.nextNode();)we("uponSanitizeShadowNode",w,null),!Ft(w)&&(w.content instanceof u&&N(w.content),Bt(w));we("afterSanitizeShadowDOM",p,null)};return i.sanitize=function(N){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w,C,H,V;if(dt=!N,dt&&(N="<!-->"),typeof N!="string"&&!$e(N)){if(typeof N.toString!="function")throw Nn("toString is not a function");if(N=N.toString(),typeof N!="string")throw Nn("dirty is not a string, aborting")}if(!i.isSupported)return N;if(lt||We(p),i.removed=[],typeof N=="string"&&(qe=!1),qe){if(N.nodeName){var ae=$(N.nodeName);if(!z[ae]||He[ae])throw Nn("root node is forbidden and cannot be sanitized in-place")}}else if(N instanceof f)w=_t("<!---->"),C=w.ownerDocument.importNode(N,!0),C.nodeType===1&&C.nodeName==="BODY"||C.nodeName==="HTML"?w=C:w.appendChild(C);else{if(!xe&&!ne&&!ke&&N.indexOf("<")===-1)return F&&Be?F.createHTML(N):N;if(w=_t(N),!w)return xe?null:Be?K:""}w&&Pe&&se(w.firstChild);for(var Q=bt(qe?N:w);H=Q.nextNode();)Ft(H)||(H.content instanceof u&&qt(H.content),Bt(H));if(qe)return N;if(xe){if(Ke)for(V=ue.call(w.ownerDocument);w.firstChild;)V.appendChild(w.firstChild);else V=w;return(W.shadowroot||W.shadowrootmod)&&(V=un.call(s,V,!0)),V}var re=ke?w.outerHTML:w.innerHTML;return ke&&z["!doctype"]&&w.ownerDocument&&w.ownerDocument.doctype&&w.ownerDocument.doctype.name&&le(Sc,w.ownerDocument.doctype.name)&&(re="<!DOCTYPE "+w.ownerDocument.doctype.name+`>
`+re),ne&&(re=Se(re,ot," "),re=Se(re,Re," "),re=Se(re,Ie," ")),F&&Be?F.createHTML(re):re},i.setConfig=function(N){We(N),lt=!0},i.clearConfig=function(){Ue=null,lt=!1},i.isValidAttribute=function(N,p,w){Ue||We({});var C=$(N),H=$(p);return Ht(C,H,w)},i.addHook=function(N,p){typeof p=="function"&&(ve[N]=ve[N]||[],kt(ve[N],p))},i.removeHook=function(N){if(ve[N])return Dr(ve[N])},i.removeHooks=function(N){ve[N]&&(ve[N]=[])},i.removeAllHooks=function(){ve={}},i}var nt=pi();class kc{constructor(){this.injectHTML(),this.headerSearchIcon=document.querySelector(".header-search-icon"),this.overlay=document.querySelector(".search-overlay"),this.closeIcon=document.querySelector(".close-live-search"),this.inputField=document.querySelector("#live-search-field"),this.resultsArea=document.querySelector(".live-search-results"),this.loaderIcon=document.querySelector(".circle-loader"),this.typingWaitTimer,this.previousValue="",this.events()}events(){this.inputField.addEventListener("keyup",()=>this.keyPressHandler()),this.closeIcon.addEventListener("click",()=>this.closeOverlay()),this.headerSearchIcon.addEventListener("click",i=>{i.preventDefault(),this.openOverlay()}),document.addEventListener("keydown",i=>{i.key.toUpperCase()=="S"&&!this.overlay.classList.contains("search-overlay--visible")&&document.activeElement.nodeName!="INPUT"&&document.activeElement.nodeName!="TEXTAREA"&&this.openOverlay(),i.key=="Escape"&&this.overlay.classList.contains("search-overlay--visible")&&this.closeOverlay()})}keyPressHandler(){let i=this.inputField.value;i==""&&(clearTimeout(this.typingWaitTimer),this.hideLoaderIcon(),this.hideResultsArea()),i!=""&&i!=this.previousValue&&(clearTimeout(this.typingWaitTimer),this.showLoaderIcon(),this.hideResultsArea(),this.typingWaitTimer=setTimeout(()=>this.sendRequest(),750)),this.previousValue=i}async sendRequest(){const i=await axios(`/search/${this.inputField.value}`);this.renderResultsHTML(i.data)}renderResultsHTML(i){i.length?this.resultsArea.innerHTML=nt.sanitize(`<div class="list-group shadow-sm">
      <div class="list-group-item active"><strong>Search Results</strong> (${i.length>1?`${i.length} items found`:"1 item found"})</div>
      ${i.map(s=>{let a=new Date(s.created_at);return`<a href="/post/${s.id}" class="list-group-item list-group-item-action">
        <img class="avatar-tiny" src="${s.user.avatar}"> <strong>${s.title}</strong>
        <span class="text-muted small">by ${s.user.username} on ${a.getMonth()+1}/${a.getDate()}/${a.getFullYear()}</span>
      </a>`}).join("")}
    </div>`):this.resultsArea.innerHTML='<p class="alert alert-danger text-center shadow-sm">Sorry, we could not find any results for that search.</p>',this.hideLoaderIcon(),this.showResultsArea()}showLoaderIcon(){this.loaderIcon.classList.add("circle-loader--visible")}hideLoaderIcon(){this.loaderIcon.classList.remove("circle-loader--visible")}showResultsArea(){this.resultsArea.classList.add("live-search-results--visible")}hideResultsArea(){this.resultsArea.classList.remove("live-search-results--visible")}openOverlay(){this.overlay.classList.add("search-overlay--visible"),setTimeout(()=>this.inputField.focus(),50)}closeOverlay(){this.overlay.classList.remove("search-overlay--visible")}injectHTML(){document.body.insertAdjacentHTML("beforeend",`<div class="search-overlay">
    <div class="search-overlay-top shadow-sm">
      <div class="container container--narrow">
        <label for="live-search-field" class="search-overlay-icon"><i class="fas fa-search"></i></label>
        <input autocomplete="off" type="text" id="live-search-field" class="live-search-field" placeholder="What are you interested in?">
        <span class="close-live-search"><i class="fas fa-times-circle"></i></span>
      </div>
    </div>

    <div class="search-overlay-bottom">
      <div class="container container--narrow py-3">
        <div class="circle-loader"></div>
        <div class="live-search-results"></div>
      </div>
    </div>
  </div>`)}}class Cc{constructor(){this.openedYet=!1,this.chatWrapper=document.querySelector("#chat-wrapper"),this.avatar=document.querySelector("#chat-wrapper").dataset.avatar,this.openIcon=document.querySelector(".header-chat-icon"),this.injectHTML(),this.chatLog=document.querySelector("#chat"),this.chatField=document.querySelector("#chatField"),this.chatForm=document.querySelector("#chatForm"),this.closeIcon=document.querySelector(".chat-title-bar-close"),this.events()}events(){this.chatForm.addEventListener("submit",i=>{i.preventDefault(),this.sendMessageToServer()}),this.openIcon.addEventListener("click",()=>this.showChat()),this.closeIcon.addEventListener("click",()=>this.hideChat())}sendMessageToServer(){const i=document.createElement("div");i.innerHTML=nt.sanitize(this.chatField.value),axios.post("/send-chat-message",{textvalue:this.chatField.value}),this.chatLog.insertAdjacentHTML("beforeend",nt.sanitize(`
    <div class="chat-self">
        <div class="chat-message">
          <div class="chat-message-inner">
            ${i.textContent}
          </div>
        </div>
        <img class="chat-avatar avatar-tiny" src="${this.avatar}">
      </div>
    `)),this.chatLog.scrollTop=this.chatLog.scrollHeight,this.chatField.value="",this.chatField.focus()}hideChat(){this.chatWrapper.classList.remove("chat--visible")}showChat(){this.openedYet||this.openConnection(),this.openedYet=!0,this.chatWrapper.classList.add("chat--visible"),this.chatField.focus()}openConnection(){Echo.private("chatchannel").listen("ChatMessage",i=>{console.log(i),this.displayMessageFromServer(i.chat)})}displayMessageFromServer(i){this.chatLog.insertAdjacentHTML("beforeend",nt.sanitize(`
    <div class="chat-other">
        <a href="/profile/${i.username}"><img class="avatar-tiny" src="${i.avatar}"></a>
        <div class="chat-message"><div class="chat-message-inner">
          <a href="/profile/${i.username}"><strong>${i.username}:</strong></a>
          ${i.textvalue}
        </div></div>
      </div>
    `)),this.chatLog.scrollTop=this.chatLog.scrollHeight}injectHTML(){this.chatWrapper.classList.add("chat-wrapper--ready"),this.chatWrapper.innerHTML=`
    <div class="chat-title-bar">Chat <span class="chat-title-bar-close"><i class="fas fa-times-circle"></i></span></div>
    <div id="chat" class="chat-log"></div>
    
    <form id="chatForm" class="chat-form border-top">
      <input type="text" class="chat-field" id="chatField" placeholder="Type a message…" autocomplete="off">
    </form>
    `}}class Ac{constructor(){this.links=document.querySelectorAll(".profile-nav a"),this.contentArea=document.querySelector(".profile-slot-content"),this.events()}events(){addEventListener("popstate",()=>{this.handleChange()}),this.links.forEach(i=>{i.addEventListener("click",s=>this.handleLinkClick(s))})}handleChange(){this.links.forEach(i=>i.classList.remove("active")),this.links.forEach(async i=>{if(i.getAttribute("href")==window.location.pathname){const s=await axios.get(i.href+"/raw");this.contentArea.innerHTML=nt.sanitize(s.data.theHTML),document.title=s.data.docTitle+" | OurApp",i.classList.add("active")}})}async handleLinkClick(i){this.links.forEach(a=>a.classList.remove("active")),i.target.classList.add("active"),i.preventDefault();const s=await axios.get(i.target.href+"/raw");this.contentArea.innerHTML=nt.sanitize(s.data.theHTML),document.title=s.data.docTitle+" | OurApp",history.pushState({},"",i.target.href)}}document.querySelector(".profile-nav")&&new Ac;document.querySelector(".header-search-icon")&&new kc;document.querySelector(".header-chat-icon")&&new Cc;
